$ vitest --run scripts/api-server/

[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/home/luandro/Dev/digidem/comapeo-docs[39m

[90mstderr[2m | scripts/api-server/job-persistence-deterministic.test.ts[2m:258:5[22m[2m[2m > [22m[2mjob-persistence - deterministic behavior[2m > [22m[2mdeterministic log capture[2m > [22m[2mshould produce identical logs for identical logging sequences
[22m[39m[Job deterministic-log-1] Test message { key: [32m'value'[39m, number: [33m42[39m }
[Job deterministic-log-1] Test message { key: [32m'value'[39m, number: [33m42[39m }
[Job deterministic-log-2] Test message { key: [32m'value'[39m, number: [33m42[39m }
[Job deterministic-log-2] Test message { key: [32m'value'[39m, number: [33m42[39m }

 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:78:5[22m[2m > [22mjob-persistence - deterministic behavior[2m > [22mdeterministic job storage[2m > [22mshould produce identical output for identical save/load cycles[32m 7[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:100:5[22m[2m > [22mjob-persistence - deterministic behavior[2m > [22mdeterministic job storage[2m > [22mshould maintain job order when saving multiple jobs[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:138:5[22m[2m > [22mjob-persistence - deterministic behavior[2m > [22mdeterministic job storage[2m > [22mshould handle multiple rapid updates to same job deterministically[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:182:5[22m[2m > [22mjob-persistence - deterministic behavior[2m > [22mdeterministic job storage[2m > [22mshould produce deterministic results for cleanup operations[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:225:5[22m[2m > [22mjob-persistence - deterministic behavior[2m > [22mdeterministic log capture[2m > [22mshould maintain chronological order of log entries[32m 9[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:258:5[22m[2m > [22mjob-persistence - deterministic behavior[2m > [22mdeterministic log capture[2m > [22mshould produce identical logs for identical logging sequences[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:290:5[22m[2m > [22mjob-persistence - deterministic behavior[2m > [22mdeterministic log capture[2m > [22mshould handle concurrent logging from multiple jobs deterministically[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:324:5[22m[2m > [22mjob-persistence - deterministic behavior[2m > [22mdeterministic log capture[2m > [22mshould return consistent results for getRecentLogs[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:367:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from corrupted data[2m > [22mshould recover from malformed JSON in jobs file[33m 303[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:388:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from corrupted data[2m > [22mshould recover from partially written jobs file[32m 152[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:399:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from corrupted data[2m > [22mshould recover from empty jobs file[33m 302[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:419:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from corrupted data[2m > [22mshould recover from jobs file with invalid job objects[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:446:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from corrupted data[2m > [22mshould recover from corrupted log file[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:465:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from corrupted data[2m > [22mshould recover from empty log file[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:485:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from corrupted data[2m > [22mshould handle log file with only invalid entries[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:496:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from missing data directory[2m > [22mshould create data directory if missing[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:515:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from missing data directory[2m > [22mshould handle missing jobs file gracefully[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:533:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from missing data directory[2m > [22mshould handle missing log file gracefully[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:552:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from missing data directory[2m > [22mshould recover by creating files on first write[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:576:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from partial operations[2m > [22mshould handle deletion of non-existent job gracefully[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:594:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from partial operations[2m > [22mshould recover from partially completed cleanup[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:617:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from partial operations[2m > [22mshould maintain data integrity after concurrent save operations[32m 11[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:644:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from edge cases[2m > [22mshould handle job with all optional fields populated[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:672:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from edge cases[2m > [22mshould handle job with minimal fields[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:690:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from edge cases[2m > [22mshould handle special characters in log messages[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:715:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from edge cases[2m > [22mshould handle very long log messages[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:728:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22mrecovery from edge cases[2m > [22mshould handle log with complex data objects[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:751:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22midempotency and repeatability[2m > [22mshould handle repeated save operations idempotently[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:773:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22midempotency and repeatability[2m > [22mshould produce consistent getJobLogs results across calls[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-deterministic.test.ts[2m:793:5[22m[2m > [22mjob-persistence - recoverable behavior[2m > [22midempotency and repeatability[2m > [22mshould handle cleanup as idempotent operation[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:47:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mIdempotency - Race Conditions[2m > [22mshould handle concurrent status reporting attempts safely[32m 18[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:80:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mIdempotency - Race Conditions[2m > [22mshould handle check-then-act race condition in job executor[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:118:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mIdempotency - Race Conditions[2m > [22mshould handle rapid successive status updates[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:153:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mFailure Handling - No Retry[2m > [22mshould not automatically retry failed status reports[33m 7038[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:189:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mFailure Handling - No Retry[2m > [22mshould handle permanent failures (4xx) gracefully[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:217:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mFailure Handling - No Retry[2m > [22mshould handle transient failures (5xx) with retries[32m 14[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:261:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mFailure Handling - No Retry[2m > [22mshould handle network errors gracefully[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:283:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mPersistence - Server Restart Scenarios[2m > [22mshould survive server restart during status reporting[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:306:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mPersistence - Server Restart Scenarios[2m > [22mshould allow retry after server restart if status not reported[33m 7025[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:352:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mClear and Retry Mechanism[2m > [22mshould allow manual retry via clearGitHubStatusReported[33m 7039[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:404:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mClear and Retry Mechanism[2m > [22mshould persist cleared flag across server restart[32m 11[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:423:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mEdge Cases[2m > [22mshould handle job completion without GitHub context[32m 9[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:436:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mEdge Cases[2m > [22mshould handle malformed GitHub responses[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:460:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mEdge Cases[2m > [22mshould handle partial GitHub context[32m 26[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:483:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mRate Limiting[2m > [22mshould retry on rate limit (403) with exponential backoff[32m 11[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:529:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mRate Limiting[2m > [22mshould eventually fail after exhausting retries on rate limit[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:564:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mStatus Update Race Conditions[2m > [22mshould not report status twice for same job completion[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:610:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mDouble-Checked Locking Pattern[2m > [22mshould implement double-checked locking for idempotency[32m 25[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-callback-flow.test.ts[2m:646:5[22m[2m > [22mGitHub Status Callback Flow - Idempotency and Failure Handling[2m > [22mDouble-Checked Locking Pattern[2m > [22mshould handle race condition between check and mark[32m 75[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:29:5[22m[2m > [22mJobQueue[2m > [22mconstructor[2m > [22mshould create a queue with given concurrency limit[32m 10[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:40:5[22m[2m > [22mJobQueue[2m > [22mregisterExecutor[2m > [22mshould register an executor for a job type[32m 7[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:53:5[22m[2m > [22mJobQueue[2m > [22madd[2m > [22mshould add a job to the queue and return a job ID[32m 8[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:68:5[22m[2m > [22mJobQueue[2m > [22madd[2m > [22mshould start jobs up to concurrency limit[32m 222[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:100:5[22m[2m > [22mJobQueue[2m > [22madd[2m > [22mshould process queued jobs when running jobs complete[32m 204[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:129:5[22m[2m > [22mJobQueue[2m > [22madd[2m > [22mshould fail job when no executor is registered[32m 54[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:145:5[22m[2m > [22mJobQueue[2m > [22mcancel[2m > [22mshould cancel a queued job[33m 1007[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:168:5[22m[2m > [22mJobQueue[2m > [22mcancel[2m > [22mshould cancel a running job[32m 17[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:200:5[22m[2m > [22mJobQueue[2m > [22mcancel[2m > [22mshould return false when cancelling non-existent job[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:205:5[22m[2m > [22mJobQueue[2m > [22mcancel[2m > [22mshould update job status to failed when cancelled[32m 209[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:232:5[22m[2m > [22mJobQueue[2m > [22mgetStatus[2m > [22mshould return current queue status[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:251:5[22m[2m > [22mJobQueue[2m > [22mgetStatus[2m > [22mshould report correct queued and running counts[32m 108[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:276:5[22m[2m > [22mJobQueue[2m > [22mgetQueuedJobs[2m > [22mshould return all queued jobs[32m 106[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:302:5[22m[2m > [22mJobQueue[2m > [22mgetRunningJobs[2m > [22mshould return all running jobs[32m 103[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:325:5[22m[2m > [22mJobQueue[2m > [22mconcurrency enforcement[2m > [22mshould not exceed concurrency limit[32m 210[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:355:5[22m[2m > [22mJobQueue[2m > [22mconcurrency enforcement[2m > [22mshould start next job when current job completes[32m 226[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:391:5[22m[2m > [22mJobQueue[2m > [22mjob lifecycle[2m > [22mshould update job status through lifecycle[32m 113[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:420:5[22m[2m > [22mJobQueue[2m > [22mjob lifecycle[2m > [22mshould handle job failure[32m 104[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:440:5[22m[2m > [22mJobQueue[2m > [22medge cases[2m > [22mshould handle rapid job additions[33m 1512[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:471:5[22m[2m > [22mJobQueue[2m > [22medge cases[2m > [22mshould handle cancelling already completed job gracefully[32m 55[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:511:3[22m[2m > [22mconcurrent request behavior[2m > [22mshould handle multiple simultaneous job additions correctly[33m 504[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:549:3[22m[2m > [22mconcurrent request behavior[2m > [22mshould maintain FIFO order when processing queued jobs[33m 306[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:580:3[22m[2m > [22mconcurrent request behavior[2m > [22mshould not exceed concurrency limit under rapid concurrent requests[33m 1509[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:616:3[22m[2m > [22mconcurrent request behavior[2m > [22mshould handle job additions while queue is processing[32m 223[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:649:3[22m[2m > [22mconcurrent request behavior[2m > [22mshould correctly track running and queued counts during concurrent operations[33m 516[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:685:3[22m[2m > [22mconcurrent request behavior[2m > [22mshould handle race condition in processQueue correctly[33m 509[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:720:3[22m[2m > [22mconcurrent request behavior[2m > [22mshould handle concurrent cancellation requests correctly[32m 120[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:760:3[22m[2m > [22mconcurrent request behavior[2m > [22mshould maintain queue integrity with mixed add and cancel operations[33m 507[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:800:3[22m[2m > [22mconcurrent request behavior[2m > [22mshould handle getStatus() called concurrently with job operations[32m 205[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:840:3[22m[2m > [22mconcurrent request behavior[2m > [22mshould prevent starvation of queued jobs under continuous load[33m 618[2mms[22m[39m
[90mstdout[2m | scripts/api-server/job-queue.test.ts[2m:939:3[22m[2m[2m > [22m[2mcreateJobQueue[2m > [22m[2mshould create a queue that can accept jobs
[22m[39m[Job 1770549914032-l0kch6z] Executing job { script: [32m'bun'[39m, args: [ [32m'scripts/notion-fetch'[39m ] }

[90mstderr[2m | scripts/api-server/job-queue.test.ts[2m:939:3[22m[2m[2m > [22m[2mcreateJobQueue[2m > [22m[2mshould create a queue that can accept jobs
[22m[39m[Job 1770549914032-l0kch6z] Job failed { error: [32m"Cannot read properties of null (reading 'env')"[39m }

 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:881:3[22m[2m > [22mconcurrent request behavior[2m > [22mshould handle concurrent getQueuedJobs and getRunningJobs calls[33m 518[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:932:3[22m[2m > [22mcreateJobQueue[2m > [22mshould create a queue with executors for all job types[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:939:3[22m[2m > [22mcreateJobQueue[2m > [22mshould create a queue that can accept jobs[32m 10[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:967:3[22m[2m > [22mcancellation behavior validation[2m > [22mshould abort running job with AbortSignal[32m 12[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1001:3[22m[2m > [22mcancellation behavior validation[2m > [22mshould clean up running jobs map after cancellation[32m 115[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1041:3[22m[2m > [22mcancellation behavior validation[2m > [22mshould handle cancellation of multiple jobs in queue[32m 174[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1089:3[22m[2m > [22mcancellation behavior validation[2m > [22mshould propagate abort signal to executor[32m 64[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1146:3[22m[2m > [22mstatus transition validation[2m > [22mshould transition from pending to running to completed[32m 204[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1192:3[22m[2m > [22mstatus transition validation[2m > [22mshould transition from pending to running to failed on error[32m 103[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1216:3[22m[2m > [22mstatus transition validation[2m > [22mshould set timestamp fields during status transitions[32m 153[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1258:3[22m[2m > [22mstatus transition validation[2m > [22mshould update result data on completion[32m 105[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1286:3[22m[2m > [22mstatus transition validation[2m > [22mshould update error data on failure[32m 103[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1314:3[22m[2m > [22mstatus transition validation[2m > [22mshould track progress updates during execution[32m 133[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1370:3[22m[2m > [22mrace condition validation[2m > [22mshould handle concurrent processQueue invocations safely[33m 1008[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1409:3[22m[2m > [22mrace condition validation[2m > [22mshould handle concurrent cancellation during job start[32m 116[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1449:3[22m[2m > [22mrace condition validation[2m > [22mshould handle status updates during cancellation[32m 124[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1490:3[22m[2m > [22mrace condition validation[2m > [22mshould handle rapid job state transitions[32m 209[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1564:3[22m[2m > [22mrace condition validation[2m > [22mshould handle concurrent getStatus calls with queue mutations[33m 516[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1606:3[22m[2m > [22midempotent operation validation[2m > [22mshould handle cancelling already cancelled job gracefully[32m 14[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1640:3[22m[2m > [22midempotent operation validation[2m > [22mshould handle cancelling queued job that already started[32m 73[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1676:3[22m[2m > [22midempotent operation validation[2m > [22mshould handle multiple concurrent cancel requests on same job[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1706:3[22m[2m > [22midempotent operation validation[2m > [22mshould handle status updates on completed job[32m 103[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1739:3[22m[2m > [22midempotent operation validation[2m > [22mshould handle multiple progress updates on same job[32m 156[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1812:3[22m[2m > [22mstatus transition validation[2m > [22mshould follow valid status state machine for successful job[32m 104[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1878:3[22m[2m > [22mstatus transition validation[2m > [22mshould follow valid status state machine for failed job[32m 102[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1898:3[22m[2m > [22mstatus transition validation[2m > [22mshould transition to cancelled status when abort signal received[32m 65[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1934:3[22m[2m > [22mstatus transition validation[2m > [22mshould not transition from completed back to running[32m 104[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:1968:3[22m[2m > [22mstatus transition validation[2m > [22mshould set all timestamp fields correctly through lifecycle[32m 106[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:2017:3[22m[2m > [22mstatus transition validation[2m > [22mshould preserve result data through status transitions[32m 106[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue.test.ts[2m:2051:3[22m[2m > [22mstatus transition validation[2m > [22mshould handle status update with missing job gracefully[32m 18[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:49:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mIdempotency - reportGitHubStatus[2m > [22mshould report same status multiple times (not idempotent)[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:63:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mIdempotency - reportGitHubStatus[2m > [22mshould allow status transitions (pending -> success)[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:78:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mIdempotency - reportJobCompletion[2m > [22mshould report same job completion multiple times (not idempotent at function level)[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:96:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mIdempotency - reportJobCompletion[2m > [22mshould handle different job types separately[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:117:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mJob Execution Idempotency[2m > [22mshould not report GitHub status twice for the same job[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:147:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mJob Execution Idempotency[2m > [22mshould mark GitHub status as reported only on success[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:169:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mJob Execution Idempotency[2m > [22mshould clear GitHub status reported flag when API call fails[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:185:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mJob Execution Idempotency[2m > [22mshould not mark GitHub status as reported when API call fails[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:222:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mJob Execution Idempotency[2m > [22mshould handle race condition with immediate mark and clear on failure[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:256:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mGitHub Context in Job Execution[2m > [22mshould call GitHub status when context is provided[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:274:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mGitHub Context in Job Execution[2m > [22mshould persist GitHub context with job[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:287:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mStatus Content Validation[2m > [22mshould include job type in status description[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:300:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mStatus Content Validation[2m > [22mshould include duration in status description[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:315:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mStatus Content Validation[2m > [22mshould include error message in failure status[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:330:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mStatus Content Validation[2m > [22mshould truncate error message to 140 characters[32m 1[2mms[22m[39m
[90mstderr[2m | scripts/api-server/github-status-idempotency.test.ts[2m:348:5[22m[2m[2m > [22m[2mGitHub Status - Idempotency and Integration[2m > [22m[2mStatus API Response Handling[2m > [22m[2mshould handle rate limiting (403)
[22m[39m[GitHub Status] Failed to report status after retries: GitHub API error: API rate limit exceeded {
  statusCode: [33m403[39m,
  githubError: { message: [32m'API rate limit exceeded'[39m }
}

 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:348:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mStatus API Response Handling[2m > [22mshould handle rate limiting (403)[33m 7046[2mms[22m[39m
[90mstderr[2m | scripts/api-server/github-status-idempotency.test.ts[2m:365:5[22m[2m[2m > [22m[2mGitHub Status - Idempotency and Integration[2m > [22m[2mStatus API Response Handling[2m > [22m[2mshould handle server errors (5xx)
[22m[39m[GitHub Status] Failed to report status after retries: GitHub API error: Bad gateway { statusCode: [33m502[39m, githubError: { message: [32m'Bad gateway'[39m } }

[90mstderr[2m | scripts/api-server/github-status-idempotency.test.ts[2m:382:5[22m[2m[2m > [22m[2mGitHub Status - Idempotency and Integration[2m > [22m[2mStatus API Response Handling[2m > [22m[2mshould handle network errors
[22m[39m[GitHub Status] Unexpected error reporting status: Error: Network error
    at [90m/home/luandro/Dev/digidem/comapeo-docs/[39mscripts/api-server/github-status-idempotency.test.ts:383:35
    at [90mfile:///home/luandro/Dev/digidem/comapeo-docs/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:145:11
    at [90mfile:///home/luandro/Dev/digidem/comapeo-docs/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:915:26
    at [90mfile:///home/luandro/Dev/digidem/comapeo-docs/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///home/luandro/Dev/digidem/comapeo-docs/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1209:10[90m)[39m
    at [90mfile:///home/luandro/Dev/digidem/comapeo-docs/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1653:37
    at Traces.$ [90m(file:///home/luandro/Dev/digidem/comapeo-docs/[39mnode_modules/[4mvitest[24m/dist/chunks/traces.CCmnQaNT.js:142:27[90m)[39m
    at trace [90m(file:///home/luandro/Dev/digidem/comapeo-docs/[39mnode_modules/[4mvitest[24m/dist/chunks/test.B8ej_ZHS.js:239:21[90m)[39m
    at runTest [90m(file:///home/luandro/Dev/digidem/comapeo-docs/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1653:12[90m)[39m

 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:365:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mStatus API Response Handling[2m > [22mshould handle server errors (5xx)[33m 7023[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:382:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mStatus API Response Handling[2m > [22mshould handle network errors[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:397:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mContext and Target URL[2m > [22mshould use default context when not provided[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:414:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mContext and Target URL[2m > [22mshould include target URL when provided[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:433:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mPersistence Idempotency[2m > [22mshould persist githubStatusReported flag[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:451:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mPersistence Idempotency[2m > [22mshould persist cleared githubStatusReported flag[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status-idempotency.test.ts[2m:472:5[22m[2m > [22mGitHub Status - Idempotency and Integration[2m > [22mPersistence Idempotency[2m > [22mshould load jobs without githubStatusReported as false[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-queue-regression.test.ts[2m:50:5[22m[2m > [22mJob Persistence and Queue Regression Tests[2m > [22mdeleteJob stability under repeated execution[2m > [22mshould handle 100 consecutive deleteJob operations without data corruption[32m 129[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-queue-regression.test.ts[2m:87:5[22m[2m > [22mJob Persistence and Queue Regression Tests[2m > [22mdeleteJob stability under repeated execution[2m > [22mshould handle rapid alternating save/delete cycles[32m 121[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-queue-regression.test.ts[2m:114:5[22m[2m > [22mJob Persistence and Queue Regression Tests[2m > [22mdeleteJob stability under repeated execution[2m > [22mshould handle deleteJob on non-existent jobs consistently[32m 17[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-queue-regression.test.ts[2m:132:5[22m[2m > [22mJob Persistence and Queue Regression Tests[2m > [22mdeleteJob stability under repeated execution[2m > [22mshould handle deleteJob immediately after save[32m 171[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-queue-regression.test.ts[2m:155:5[22m[2m > [22mJob Persistence and Queue Regression Tests[2m > [22mdeleteJob stability under repeated execution[2m > [22mshould maintain data integrity during concurrent-style deletions[32m 48[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-queue-regression.test.ts[2m:192:5[22m[2m > [22mJob Persistence and Queue Regression Tests[2m > [22mdeleteJob stability under repeated execution[2m > [22mshould handle deleteJob with same ID repeated (idempotency)[32m 11[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-queue-regression.test.ts[2m:217:5[22m[2m > [22mJob Persistence and Queue Regression Tests[2m > [22mqueue completion events and persistence integration[2m > [22mshould handle 50 consecutive queue completion cycles[33m 1757[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-queue-regression.test.ts[2m:264:5[22m[2m > [22mJob Persistence and Queue Regression Tests[2m > [22mqueue completion events and persistence integration[2m > [22mshould maintain persistence during rapid queue completions[33m 519[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-queue-regression.test.ts[2m:305:5[22m[2m > [22mJob Persistence and Queue Regression Tests[2m > [22mqueue completion events and persistence integration[2m > [22mshould handle queue completion with persistence cleanup[33m 724[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-queue-regression.test.ts[2m:346:5[22m[2m > [22mJob Persistence and Queue Regression Tests[2m > [22mstress tests for deleteJob and queue completion[2m > [22mshould handle 100 job cycles: add -> complete -> delete[33m 918[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-queue-regression.test.ts[2m:398:5[22m[2m > [22mJob Persistence and Queue Regression Tests[2m > [22mstress tests for deleteJob and queue completion[2m > [22mshould handle rapid job creation and deletion interleaved with queue operations[33m 644[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-queue-regression.test.ts[2m:451:5[22m[2m > [22mJob Persistence and Queue Regression Tests[2m > [22mstress tests for deleteJob and queue completion[2m > [22mshould maintain consistency under cleanupOldJobs repeated calls[32m 49[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-queue-regression.test.ts[2m:494:5[22m[2m > [22mJob Persistence and Queue Regression Tests[2m > [22medge cases and error recovery[2m > [22mshould handle deleteJob during active queue operations[32m 186[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-queue-regression.test.ts[2m:537:5[22m[2m > [22mJob Persistence and Queue Regression Tests[2m > [22medge cases and error recovery[2m > [22mshould handle queue completion followed by immediate deletion repeatedly[33m 1036[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-queue-regression.test.ts[2m:577:5[22m[2m > [22mJob Persistence and Queue Regression Tests[2m > [22medge cases and error recovery[2m > [22mshould handle multiple jobs completing simultaneously[32m 218[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-queue-regression.test.ts[2m:629:5[22m[2m > [22mJob Persistence and Queue Regression Tests[2m > [22mdata consistency across operations[2m > [22mshould maintain job count accuracy through repeated operations[33m 1390[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence-queue-regression.test.ts[2m:676:5[22m[2m > [22mJob Persistence and Queue Regression Tests[2m > [22mdata consistency across operations[2m > [22mshould preserve job data integrity through complete lifecycle[33m 1077[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:42:5[22m[2m > [22mgithub-status[2m > [22mreportGitHubStatus[2m > [22mshould report success status to GitHub[32m 9[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:79:5[22m[2m > [22mgithub-status[2m > [22mreportGitHubStatus[2m > [22mshould report failure status to GitHub[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:94:5[22m[2m > [22mgithub-status[2m > [22mreportGitHubStatus[2m > [22mshould include custom context if provided[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:111:5[22m[2m > [22mgithub-status[2m > [22mreportGitHubStatus[2m > [22mshould include target URL if provided[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:128:5[22m[2m > [22mgithub-status[2m > [22mreportGitHubStatus[2m > [22mshould truncate description to 140 characters[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:142:5[22m[2m > [22mgithub-status[2m > [22mreportGitHubStatus[2m > [22mshould throw GitHubStatusError on API error[32m 2[2mms[22m[39m
(node:64676) PromiseRejectionHandledWarning: Promise rejection was handled asynchronously (rejection id: 5)
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:154:5[22m[2m > [22mgithub-status[2m > [22mreportGitHubStatus[2m > [22mshould handle malformed API error response[33m 7037[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:168:5[22m[2m > [22mgithub-status[2m > [22mreportGitHubStatus[2m > [22mshould retry on rate limit errors (403)[32m 11[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:197:5[22m[2m > [22mgithub-status[2m > [22mreportGitHubStatus[2m > [22mshould retry on server errors (5xx)[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:226:5[22m[2m > [22mgithub-status[2m > [22mreportGitHubStatus[2m > [22mshould not retry on client errors (4xx except 403, 429)[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:243:5[22m[2m > [22mgithub-status[2m > [22mreportGitHubStatus[2m > [22mshould respect custom retry options[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:283:5[22m[2m > [22mgithub-status[2m > [22mreportGitHubStatus[2m > [22mshould throw after max retries exceeded[32m 24[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:315:5[22m[2m > [22mgithub-status[2m > [22mGitHubStatusError[2m > [22mshould identify retryable errors correctly[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:335:5[22m[2m > [22mgithub-status[2m > [22mreportJobCompletion[2m > [22mshould report successful job completion[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:351:5[22m[2m > [22mgithub-status[2m > [22mreportJobCompletion[2m > [22mshould report failed job completion[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:367:5[22m[2m > [22mgithub-status[2m > [22mreportJobCompletion[2m > [22mshould include duration in description when provided[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:382:5[22m[2m > [22mgithub-status[2m > [22mreportJobCompletion[2m > [22mshould include error in description when job fails[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:398:5[22m[2m > [22mgithub-status[2m > [22mreportJobCompletion[2m > [22mshould return null on GitHub API failure without throwing[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:420:5[22m[2m > [22mgithub-status[2m > [22mreportJobCompletion[2m > [22mshould return null on unexpected error without throwing[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:440:5[22m[2m > [22mgithub-status[2m > [22mgetGitHubContextFromEnv[2m > [22mshould return options when all env vars are set[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:456:5[22m[2m > [22mgithub-status[2m > [22mgetGitHubContextFromEnv[2m > [22mshould use custom context from env var[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:467:5[22m[2m > [22mgithub-status[2m > [22mgetGitHubContextFromEnv[2m > [22mshould return null when required env vars are missing[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:476:5[22m[2m > [22mgithub-status[2m > [22mgetGitHubContextFromEnv[2m > [22mshould return null for invalid repository format[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:494:5[22m[2m > [22mgithub-status[2m > [22mvalidateGitHubOptions[2m > [22mshould return true for valid options[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:505:5[22m[2m > [22mgithub-status[2m > [22mvalidateGitHubOptions[2m > [22mshould return false for null options[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:509:5[22m[2m > [22mgithub-status[2m > [22mvalidateGitHubOptions[2m > [22mshould return false when required fields are missing[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:524:5[22m[2m > [22mgithub-status[2m > [22mvalidateGitHubOptions[2m > [22mshould return false for invalid SHA format[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:541:5[22m[2m > [22mgithub-status[2m > [22mvalidateGitHubOptions[2m > [22mshould accept abbreviated SHA (7 characters)[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/github-status.test.ts[2m:552:5[22m[2m > [22mgithub-status[2m > [22mvalidateGitHubOptions[2m > [22mshould accept full 40 character SHA[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:47:5[22m[2m > [22mJob Queue Behavior Validation[2m > [22mConcurrency Limit Enforcement[2m > [22mshould strictly enforce concurrency limit even under rapid load[33m 1598[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:94:5[22m[2m > [22mJob Queue Behavior Validation[2m > [22mConcurrency Limit Enforcement[2m > [22mshould handle zero concurrency gracefully[32m 12[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:110:5[22m[2m > [22mJob Queue Behavior Validation[2m > [22mConcurrency Limit Enforcement[2m > [22mshould properly serialize execution with concurrency of 1[33m 312[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:143:5[22m[2m > [22mJob Queue Behavior Validation[2m > [22mCancellation Signal Propagation[2m > [22mshould propagate abort signal to executor immediately[32m 124[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:183:5[22m[2m > [22mJob Queue Behavior Validation[2m > [22mCancellation Signal Propagation[2m > [22mshould set aborted flag on signal when job is cancelled[32m 130[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:217:5[22m[2m > [22mJob Queue Behavior Validation[2m > [22mCancellation Signal Propagation[2m > [22mshould handle multiple concurrent cancellations safely[32m 229[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:258:5[22m[2m > [22mJob Queue Behavior Validation[2m > [22mStatus Transition Integrity[2m > [22mshould not allow status transitions from completed back to running[32m 109[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:294:5[22m[2m > [22mJob Queue Behavior Validation[2m > [22mStatus Transition Integrity[2m > [22mshould preserve timestamp ordering through all transitions[32m 108[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:336:5[22m[2m > [22mJob Queue Behavior Validation[2m > [22mStatus Transition Integrity[2m > [22mshould handle status updates during rapid transitions[32m 159[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:389:5[22m[2m > [22mJob Queue Behavior Validation[2m > [22mResource Cleanup and Memory Management[2m > [22mshould clean up running jobs after completion[32m 118[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:426:5[22m[2m > [22mJob Queue Behavior Validation[2m > [22mResource Cleanup and Memory Management[2m > [22mshould handle large number of jobs without memory leaks[33m 1100[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:469:5[22m[2m > [22mJob Queue Behavior Validation[2m > [22mJob Persistence Integration[2m > [22mshould persist job status changes[32m 109[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:501:5[22m[2m > [22mJob Queue Behavior Validation[2m > [22mJob Persistence Integration[2m > [22mshould persist cancellation state[32m 115[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:537:5[22m[2m > [22mJob Queue Behavior Validation[2m > [22mQueue State Consistency[2m > [22mshould maintain consistent queue state under concurrent operations[33m 510[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:575:5[22m[2m > [22mJob Queue Behavior Validation[2m > [22mQueue State Consistency[2m > [22mshould recover from executor errors without affecting queue state[32m 217[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:614:5[22m[2m > [22mJob Queue Behavior Validation[2m > [22mEdge Cases and Error Handling[2m > [22mshould propagate synchronous executor errors[32m 11[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:631:5[22m[2m > [22mJob Queue Behavior Validation[2m > [22mEdge Cases and Error Handling[2m > [22mshould handle executor that rejects immediately[32m 104[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:651:5[22m[2m > [22mJob Queue Behavior Validation[2m > [22mEdge Cases and Error Handling[2m > [22mshould handle jobs that complete before cancellation can take effect[32m 57[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:704:5[22m[2m > [22mJob Queue Response Shape Validation[2m > [22mJob List Response Structure[2m > [22mshould return correct response shape for job list[32m 8[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:768:5[22m[2m > [22mJob Queue Response Shape Validation[2m > [22mJob List Response Structure[2m > [22mshould handle empty job list response[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:790:5[22m[2m > [22mJob Queue Response Shape Validation[2m > [22mJob List Response Structure[2m > [22mshould include all job fields in response[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:824:5[22m[2m > [22mJob Queue Response Shape Validation[2m > [22mJob Status Response Structure[2m > [22mshould return complete job status response[32m 106[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-queue-behavior-validation.test.ts[2m:872:5[22m[2m > [22mJob Queue Response Shape Validation[2m > [22mJob Status Response Structure[2m > [22mshould handle job with error result in response[32m 103[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:56:7[22m[2m > [22mAPI Handler Integration Tests[2m > [22mJob Tracker Integration[2m > [22mJob creation workflow[2m > [22mshould create and track jobs through complete lifecycle[32m 9[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:91:7[22m[2m > [22mAPI Handler Integration Tests[2m > [22mJob Tracker Integration[2m > [22mJob creation workflow[2m > [22mshould handle job failure workflow[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:108:7[22m[2m > [22mAPI Handler Integration Tests[2m > [22mJob Tracker Integration[2m > [22mJob creation workflow[2m > [22mshould handle concurrent job operations[32m 16[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:166:7[22m[2m > [22mAPI Handler Integration Tests[2m > [22mJob Tracker Integration[2m > [22mJob filtering and querying[2m > [22mshould filter jobs by status[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:180:7[22m[2m > [22mAPI Handler Integration Tests[2m > [22mJob Tracker Integration[2m > [22mJob filtering and querying[2m > [22mshould filter jobs by type[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:192:7[22m[2m > [22mAPI Handler Integration Tests[2m > [22mJob Tracker Integration[2m > [22mJob filtering and querying[2m > [22mshould support combined filtering[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:208:7[22m[2m > [22mAPI Handler Integration Tests[2m > [22mJob Tracker Integration[2m > [22mJob deletion and cleanup[2m > [22mshould delete jobs and update tracker state[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:227:7[22m[2m > [22mAPI Handler Integration Tests[2m > [22mJob Tracker Integration[2m > [22mJob deletion and cleanup[2m > [22mshould handle deletion of non-existent jobs gracefully[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:237:7[22m[2m > [22mAPI Handler Integration Tests[2m > [22mResponse Schema Integration[2m > [22mAPI response envelopes[2m > [22mshould create standardized success response[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:253:7[22m[2m > [22mAPI Handler Integration Tests[2m > [22mResponse Schema Integration[2m > [22mAPI response envelopes[2m > [22mshould create paginated response[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:275:7[22m[2m > [22mAPI Handler Integration Tests[2m > [22mResponse Schema Integration[2m > [22mError response schemas[2m > [22mshould create standardized error response[32m 6[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:297:7[22m[2m > [22mAPI Handler Integration Tests[2m > [22mResponse Schema Integration[2m > [22mError response schemas[2m > [22mshould generate unique request IDs[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:306:7[22m[2m > [22mAPI Handler Integration Tests[2m > [22mResponse Schema Integration[2m > [22mError response schemas[2m > [22mshould map status codes to error codes[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:314:7[22m[2m > [22mAPI Handler Integration Tests[2m > [22mResponse Schema Integration[2m > [22mError response schemas[2m > [22mshould provide validation errors for specific fields[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:326:5[22m[2m > [22mAPI Handler Integration Tests[2m > [22mAuthentication Integration[2m > [22mshould validate API keys correctly[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:343:5[22m[2m > [22mAPI Handler Integration Tests[2m > [22mAuthentication Integration[2m > [22mshould handle disabled authentication gracefully[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:367:5[22m[2m > [22mAPI Handler Integration Tests[2m > [22mJob Queue Integration with Job Tracker[2m > [22mshould integrate job queue with job tracker[32m 209[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:395:5[22m[2m > [22mAPI Handler Integration Tests[2m > [22mJob Queue Integration with Job Tracker[2m > [22mshould handle queue cancellation through job tracker[32m 104[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:423:5[22m[2m > [22mAPI Handler Integration Tests[2m > [22mError Handling Integration[2m > [22mshould handle invalid job types gracefully[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:433:5[22m[2m > [22mAPI Handler Integration Tests[2m > [22mError Handling Integration[2m > [22mshould handle operations on non-existent jobs[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/handler-integration.test.ts[2m:448:5[22m[2m > [22mAPI Handler Integration Tests[2m > [22mError Handling Integration[2m > [22mshould handle invalid status transitions gracefully[32m 6[2mms[22m[39m
[90mstderr[2m | scripts/api-server/job-persistence.test.ts[2m:285:5[22m[2m[2m > [22m[2mjob-persistence[2m > [22m[2mgetJobLogs[2m > [22m[2mshould return logs for a specific job
[22m[39m[Job test-job-1] Test warn message 
[Job test-job-1] Test error message 

[90mstderr[2m | scripts/api-server/job-persistence.test.ts[2m:299:5[22m[2m[2m > [22m[2mjob-persistence[2m > [22m[2mgetJobLogs[2m > [22m[2mshould return empty array for job with no logs
[22m[39m[Job test-job-1] Test warn message 
[Job test-job-1] Test error message 

[90mstderr[2m | scripts/api-server/job-persistence.test.ts[2m:304:5[22m[2m[2m > [22m[2mjob-persistence[2m > [22m[2mgetJobLogs[2m > [22m[2mshould include job ID in each log entry
[22m[39m[Job test-job-1] Test warn message 
[Job test-job-1] Test error message 

[90mstderr[2m | scripts/api-server/job-persistence.test.ts[2m:312:5[22m[2m[2m > [22m[2mjob-persistence[2m > [22m[2mgetJobLogs[2m > [22m[2mshould include timestamp in each log entry
[22m[39m[Job test-job-1] Test warn message 
[Job test-job-1] Test error message 

[90mstderr[2m | scripts/api-server/job-persistence.test.ts[2m:337:5[22m[2m[2m > [22m[2mjob-persistence[2m > [22m[2mgetRecentLogs[2m > [22m[2mshould return recent logs up to the limit
[22m[39m[Job test-job-1] Job 1 warning 

[90mstderr[2m | scripts/api-server/job-persistence.test.ts[2m:343:5[22m[2m[2m > [22m[2mjob-persistence[2m > [22m[2mgetRecentLogs[2m > [22m[2mshould return all logs when limit is higher than actual count
[22m[39m[Job test-job-1] Job 1 warning 

[90mstderr[2m | scripts/api-server/job-persistence.test.ts[2m:349:5[22m[2m[2m > [22m[2mjob-persistence[2m > [22m[2mgetRecentLogs[2m > [22m[2mshould return logs from all jobs
[22m[39m[Job test-job-1] Job 1 warning 

[90mstderr[2m | scripts/api-server/job-persistence.test.ts[2m:359:5[22m[2m[2m > [22m[2mjob-persistence[2m > [22m[2mgetRecentLogs[2m > [22m[2mshould return most recent logs when limit is specified
[22m[39m[Job test-job-1] Job 1 warning 

 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:35:5[22m[2m > [22mjob-persistence[2m > [22msaveJob and loadJob[2m > [22mshould save and load a job[32m 13[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:49:5[22m[2m > [22mjob-persistence[2m > [22msaveJob and loadJob[2m > [22mshould update an existing job[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:75:5[22m[2m > [22mjob-persistence[2m > [22msaveJob and loadJob[2m > [22mshould return undefined for non-existent job[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:80:5[22m[2m > [22mjob-persistence[2m > [22msaveJob and loadJob[2m > [22mshould save multiple jobs[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:109:5[22m[2m > [22mjob-persistence[2m > [22mloadAllJobs[2m > [22mshould return empty array when no jobs exist[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:114:5[22m[2m > [22mjob-persistence[2m > [22mloadAllJobs[2m > [22mshould return all saved jobs[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:140:5[22m[2m > [22mjob-persistence[2m > [22mdeleteJob[2m > [22mshould delete a job[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:156:5[22m[2m > [22mjob-persistence[2m > [22mdeleteJob[2m > [22mshould return false when deleting non-existent job[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:161:5[22m[2m > [22mjob-persistence[2m > [22mdeleteJob[2m > [22mshould only delete the specified job[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:187:5[22m[2m > [22mjob-persistence[2m > [22mcreateJobLogger[2m > [22mshould create a logger with all log methods[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:201:5[22m[2m > [22mjob-persistence[2m > [22mcreateJobLogger[2m > [22mshould log info messages[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:212:5[22m[2m > [22mjob-persistence[2m > [22mcreateJobLogger[2m > [22mshould log warn messages[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:223:5[22m[2m > [22mjob-persistence[2m > [22mcreateJobLogger[2m > [22mshould log error messages[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:236:5[22m[2m > [22mjob-persistence[2m > [22mcreateJobLogger[2m > [22mshould not log debug messages when DEBUG is not set[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:255:5[22m[2m > [22mjob-persistence[2m > [22mcreateJobLogger[2m > [22mshould log debug messages when DEBUG is set[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:285:5[22m[2m > [22mjob-persistence[2m > [22mgetJobLogs[2m > [22mshould return logs for a specific job[32m 8[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:299:5[22m[2m > [22mjob-persistence[2m > [22mgetJobLogs[2m > [22mshould return empty array for job with no logs[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:304:5[22m[2m > [22mjob-persistence[2m > [22mgetJobLogs[2m > [22mshould include job ID in each log entry[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:312:5[22m[2m > [22mjob-persistence[2m > [22mgetJobLogs[2m > [22mshould include timestamp in each log entry[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:337:5[22m[2m > [22mjob-persistence[2m > [22mgetRecentLogs[2m > [22mshould return recent logs up to the limit[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:343:5[22m[2m > [22mjob-persistence[2m > [22mgetRecentLogs[2m > [22mshould return all logs when limit is higher than actual count[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:349:5[22m[2m > [22mjob-persistence[2m > [22mgetRecentLogs[2m > [22mshould return logs from all jobs[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:359:5[22m[2m > [22mjob-persistence[2m > [22mgetRecentLogs[2m > [22mshould return most recent logs when limit is specified[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:368:5[22m[2m > [22mjob-persistence[2m > [22mcleanupOldJobs[2m > [22mshould remove old completed jobs[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:400:5[22m[2m > [22mjob-persistence[2m > [22mcleanupOldJobs[2m > [22mshould keep pending jobs regardless of age[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:416:5[22m[2m > [22mjob-persistence[2m > [22mcleanupOldJobs[2m > [22mshould keep running jobs regardless of age[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:433:5[22m[2m > [22mjob-persistence[2m > [22mcleanupOldJobs[2m > [22mshould remove old failed jobs[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-persistence.test.ts[2m:451:5[22m[2m > [22mjob-persistence[2m > [22mcleanupOldJobs[2m > [22mshould return 0 when no jobs to clean up[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:34:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mWorkflow Structure[2m > [22mshould have a valid name[32m 35[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:38:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mWorkflow Structure[2m > [22mshould have proper triggers defined[32m 12[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:45:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mWorkflow Structure[2m > [22mshould have concurrency settings[32m 9[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:51:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mWorkflow Structure[2m > [22mshould have at least one job defined[32m 9[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:58:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mWorkflow Dispatch Inputs[2m > [22mshould have job_type input with valid choices[32m 15[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:68:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mWorkflow Dispatch Inputs[2m > [22mshould have max_pages input with default value[32m 8[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:74:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mWorkflow Dispatch Inputs[2m > [22mshould have force input as boolean[32m 7[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:90:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mJob Configuration[2m > [22mshould have proper timeout settings[32m 7[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:94:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mJob Configuration[2m > [22mshould have production environment configured[32m 6[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:99:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mJob Configuration[2m > [22mshould reference the API endpoint in environment URL[32m 8[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:116:28[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mRequired Secrets[2m > [22mshould reference secret: NOTION_API_KEY[32m 7[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:116:28[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mRequired Secrets[2m > [22mshould reference secret: DATA_SOURCE_ID[32m 7[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:116:28[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mRequired Secrets[2m > [22mshould reference secret: DATABASE_ID[32m 7[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:116:28[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mRequired Secrets[2m > [22mshould reference secret: OPENAI_API_KEY[32m 7[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:116:28[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mRequired Secrets[2m > [22mshould reference secret: API_KEY_GITHUB_ACTIONS[32m 7[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:116:28[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mRequired Secrets[2m > [22mshould reference secret: SLACK_WEBHOOK_URL[32m 7[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:129:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mAPI Integration Steps[2m > [22mshould have a step to configure API endpoint[32m 8[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:135:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mAPI Integration Steps[2m > [22mshould have a step to create job via API[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:142:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mAPI Integration Steps[2m > [22mshould have a step to poll job status[32m 7[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:149:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mAPI Integration Steps[2m > [22mshould handle completed status[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:155:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mAPI Integration Steps[2m > [22mshould handle failed status[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:161:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mAPI Integration Steps[2m > [22mshould have timeout handling[32m 8[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:175:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mGitHub Status Reporting[2m > [22mshould set pending status when job is created[32m 8[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:181:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mGitHub Status Reporting[2m > [22mshould update status to success on completion[32m 7[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:186:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mGitHub Status Reporting[2m > [22mshould update status to failure on job failure[32m 7[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:191:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mGitHub Status Reporting[2m > [22mshould include job URL in status[32m 10[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:205:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mLocal Mode (Fallback)[2m > [22mshould have condition for local mode[32m 9[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:210:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mLocal Mode (Fallback)[2m > [22mshould setup Bun in local mode[32m 16[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:216:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mLocal Mode (Fallback)[2m > [22mshould install dependencies in local mode[32m 9[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:223:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mLocal Mode (Fallback)[2m > [22mshould start API server in local mode[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:230:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mLocal Mode (Fallback)[2m > [22mshould stop API server in local mode on completion[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:246:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mNotifications[2m > [22mshould create job summary[32m 8[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:251:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mNotifications[2m > [22mshould notify Slack on completion[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:261:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mSecurity and Best Practices[2m > [22mshould use GitHub Actions checkout@v4[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:270:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mSecurity and Best Practices[2m > [22mshould use API key authentication[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:276:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mSecurity and Best Practices[2m > [22mshould have proper error handling[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:295:29[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mJob Types[2m > [22mshould support job type: notion:fetch-all[32m 6[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:295:29[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mJob Types[2m > [22mshould support job type: notion:fetch[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:295:29[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mJob Types[2m > [22mshould support job type: notion:translate[32m 6[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:295:29[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mJob Types[2m > [22mshould support job type: notion:status-translation[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:295:29[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mJob Types[2m > [22mshould support job type: notion:status-draft[32m 8[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:295:29[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mJob Types[2m > [22mshould support job type: notion:status-publish[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:295:29[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mJob Types[2m > [22mshould support job type: notion:status-publish-production[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:308:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mPolling Configuration[2m > [22mshould have configurable polling interval[32m 6[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:313:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mPolling Configuration[2m > [22mshould have reasonable timeout period[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:318:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mPolling Configuration[2m > [22mshould update elapsed time counter[32m 6[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:331:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mAPI Endpoint Configuration[2m > [22mshould support production API endpoint[32m 8[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:336:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mAPI Endpoint Configuration[2m > [22mshould fallback to localhost for testing[32m 6[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-notion-fetch-workflow.test.ts[2m:341:5[22m[2m > [22mAPI Notion Fetch Workflow[2m > [22mAPI Endpoint Configuration[2m > [22mshould output endpoint URL for use in other steps[32m 7[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-tracker.test.ts[2m:32:5[22m[2m > [22mJobTracker[2m > [22mcreateJob[2m > [22mshould create a new job and return a job ID[32m 11[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-tracker.test.ts[2m:47:5[22m[2m > [22mJobTracker[2m > [22mcreateJob[2m > [22mshould create unique job IDs[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-tracker.test.ts[2m:57:5[22m[2m > [22mJobTracker[2m > [22mgetJob[2m > [22mshould return a job by ID[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-tracker.test.ts[2m:66:5[22m[2m > [22mJobTracker[2m > [22mgetJob[2m > [22mshould return undefined for non-existent job[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-tracker.test.ts[2m:75:5[22m[2m > [22mJobTracker[2m > [22mupdateJobStatus[2m > [22mshould update job status to running[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-tracker.test.ts[2m:86:5[22m[2m > [22mJobTracker[2m > [22mupdateJobStatus[2m > [22mshould update job status to completed[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-tracker.test.ts[2m:103:5[22m[2m > [22mJobTracker[2m > [22mupdateJobStatus[2m > [22mshould update job status to failed[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-tracker.test.ts[2m:120:5[22m[2m > [22mJobTracker[2m > [22mupdateJobStatus[2m > [22mshould not update status for non-existent job[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-tracker.test.ts[2m:130:5[22m[2m > [22mJobTracker[2m > [22mupdateJobProgress[2m > [22mshould update job progress[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-tracker.test.ts[2m:144:5[22m[2m > [22mJobTracker[2m > [22mupdateJobProgress[2m > [22mshould not update progress for non-existent job[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-tracker.test.ts[2m:154:5[22m[2m > [22mJobTracker[2m > [22mgetAllJobs[2m > [22mshould return all jobs sorted by creation time (newest first)[32m 16[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-tracker.test.ts[2m:168:5[22m[2m > [22mJobTracker[2m > [22mgetAllJobs[2m > [22mshould return empty array when no jobs exist[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-tracker.test.ts[2m:177:5[22m[2m > [22mJobTracker[2m > [22mgetJobsByType[2m > [22mshould filter jobs by type[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-tracker.test.ts[2m:194:5[22m[2m > [22mJobTracker[2m > [22mgetJobsByStatus[2m > [22mshould filter jobs by status[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-tracker.test.ts[2m:213:5[22m[2m > [22mJobTracker[2m > [22mdeleteJob[2m > [22mshould delete a job[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-tracker.test.ts[2m:225:5[22m[2m > [22mJobTracker[2m > [22mdeleteJob[2m > [22mshould return false when deleting non-existent job[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-tracker.test.ts[2m:234:5[22m[2m > [22mJobTracker[2m > [22mcleanupOldJobs[2m > [22mshould persist jobs across tracker instances[32m 6[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:49:5[22m[2m > [22mAuditLogger[2m > [22mAudit Entry Creation[2m > [22mshould create audit entry from request[32m 77[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:81:5[22m[2m > [22mAuditLogger[2m > [22mAudit Entry Creation[2m > [22mshould extract client IP from various headers[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:116:5[22m[2m > [22mAuditLogger[2m > [22mAudit Entry Creation[2m > [22mshould handle failed authentication[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:136:5[22m[2m > [22mAuditLogger[2m > [22mAudit Entry Creation[2m > [22mshould capture query parameters[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:155:5[22m[2m > [22mAuditLogger[2m > [22mAudit Logging[2m > [22mshould log successful requests[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:181:5[22m[2m > [22mAuditLogger[2m > [22mAudit Logging[2m > [22mshould log failed requests[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:202:5[22m[2m > [22mAuditLogger[2m > [22mAudit Logging[2m > [22mshould log authentication failures[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:226:5[22m[2m > [22mAuditLogger[2m > [22mAudit Logging[2m > [22mshould append multiple log entries[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:259:5[22m[2m > [22mAuditLogger[2m > [22mAudit Logging[2m > [22mshould clear logs[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:281:5[22m[2m > [22mAuditLogger[2m > [22mConfiguration[2m > [22mshould use custom log directory[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:293:5[22m[2m > [22mAuditLogger[2m > [22mConfiguration[2m > [22mshould handle log write errors gracefully[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:320:5[22m[2m > [22mAuditLogger[2m > [22mSingleton[2m > [22mshould return the same instance[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:327:5[22m[2m > [22mAuditLogger[2m > [22mSingleton[2m > [22mshould configure singleton[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:348:5[22m[2m > [22mAuditLogger[2m > [22mEntry ID Generation[2m > [22mshould generate unique IDs[32m 6[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:367:5[22m[2m > [22mAuditLogger[2m > [22mEntry ID Generation[2m > [22mshould generate valid ID format[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:396:5[22m[2m > [22mAuditLogger[2m > [22mwithAudit wrapper[2m > [22mshould log successful requests[32m 6[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:437:5[22m[2m > [22mAuditLogger[2m > [22mwithAudit wrapper[2m > [22mshould log failed requests[32m 8[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:472:5[22m[2m > [22mAuditLogger[2m > [22mwithAudit wrapper[2m > [22mshould track response time[32m 52[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:515:5[22m[2m > [22mAuditLogger[2m > [22mwithAudit wrapper[2m > [22mshould create audit entry with correct auth info[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:560:5[22m[2m > [22mAuditLogger[2m > [22mwithAudit wrapper[2m > [22mshould handle failed authentication in audit entry[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:593:5[22m[2m > [22mAuditLogger[2m > [22mwithAudit wrapper[2m > [22mshould capture query parameters in audit entry[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:626:5[22m[2m > [22mAuditLogger[2m > [22mwithAudit wrapper[2m > [22mshould append multiple entries for multiple requests[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:676:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuditEntry[2m > [22mshould validate a correct audit entry with successful auth[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:700:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuditEntry[2m > [22mshould validate a correct audit entry with failed auth[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:721:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuditEntry[2m > [22mshould reject entry with invalid id format[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:738:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuditEntry[2m > [22mshould reject entry with invalid timestamp[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:757:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuditEntry[2m > [22mshould reject entry with failed auth but no error message[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:774:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuditEntry[2m > [22mshould reject entry with successful auth but no keyName[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:793:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuditEntry[2m > [22mshould reject entry with invalid statusCode[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:813:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuditEntry[2m > [22mshould reject entry with negative responseTime[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:833:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuditEntry[2m > [22mshould reject non-object entry[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:839:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuditEntry[2m > [22mshould reject entry with invalid query type[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:857:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuditEntry[2m > [22mshould validate entry created from actual request[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:878:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuditEntry[2m > [22mshould validate entry created from failed auth request[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:900:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuthResult[2m > [22mshould validate a successful auth result[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:916:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuthResult[2m > [22mshould validate a failed auth result[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:927:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuthResult[2m > [22mshould reject failed auth with empty error message[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:940:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuthResult[2m > [22mshould reject failed auth with missing error field[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:952:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuthResult[2m > [22mshould reject successful auth with missing meta[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:966:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuthResult[2m > [22mshould reject successful auth with invalid meta.name[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:983:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuthResult[2m > [22mshould reject successful auth with invalid meta.active[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:1000:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuthResult[2m > [22mshould reject successful auth with invalid meta.createdAt[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:1019:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuthResult[2m > [22mshould reject successful auth that has error field[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:1039:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuthResult[2m > [22mshould reject failed auth that has meta field[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:1059:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuthResult[2m > [22mshould reject non-object auth result[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:1065:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuthResult[2m > [22mshould validate actual auth result from requireAuth[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit.test.ts[2m:1085:5[22m[2m > [22mAuditLogger[2m > [22mvalidateAuthResult[2m > [22mshould validate actual failed auth result from requireAuth[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:37:5[22m[2m > [22mModule Extraction - extractClientIp (audit module)[2m > [22mx-forwarded-for header[2m > [22mshould extract first IP from x-forwarded-for with single IP[32m 40[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:42:5[22m[2m > [22mModule Extraction - extractClientIp (audit module)[2m > [22mx-forwarded-for header[2m > [22mshould extract first IP from x-forwarded-for with multiple IPs[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:49:5[22m[2m > [22mModule Extraction - extractClientIp (audit module)[2m > [22mx-forwarded-for header[2m > [22mshould trim whitespace from x-forwarded-for IPs[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:56:5[22m[2m > [22mModule Extraction - extractClientIp (audit module)[2m > [22mx-forwarded-for header[2m > [22mshould handle x-forwarded-for with port numbers[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:63:5[22m[2m > [22mModule Extraction - extractClientIp (audit module)[2m > [22mx-real-ip header[2m > [22mshould extract IP from x-real-ip header[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:68:5[22m[2m > [22mModule Extraction - extractClientIp (audit module)[2m > [22mx-real-ip header[2m > [22mshould prefer x-forwarded-for over x-real-ip[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:78:5[22m[2m > [22mModule Extraction - extractClientIp (audit module)[2m > [22mcf-connecting-ip header[2m > [22mshould extract IP from cf-connecting-ip header[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:83:5[22m[2m > [22mModule Extraction - extractClientIp (audit module)[2m > [22mcf-connecting-ip header[2m > [22mshould prefer x-forwarded-for over cf-connecting-ip[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:91:5[22m[2m > [22mModule Extraction - extractClientIp (audit module)[2m > [22mcf-connecting-ip header[2m > [22mshould prefer x-real-ip over cf-connecting-ip[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:101:5[22m[2m > [22mModule Extraction - extractClientIp (audit module)[2m > [22mno IP headers present[2m > [22mshould return 'unknown' when no IP headers are present[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:106:5[22m[2m > [22mModule Extraction - extractClientIp (audit module)[2m > [22mno IP headers present[2m > [22mshould return 'unknown' with only other headers[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:116:5[22m[2m > [22mModule Extraction - extractClientIp (audit module)[2m > [22mIPv6 addresses[2m > [22mshould handle IPv6 addresses in x-forwarded-for[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:121:5[22m[2m > [22mModule Extraction - extractClientIp (audit module)[2m > [22mIPv6 addresses[2m > [22mshould handle IPv6 addresses in x-real-ip[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:152:5[22m[2m > [22mModule Extraction - extractKeyFromHeader (auth module)[2m > [22mBearer scheme[2m > [22mshould extract key from 'Bearer <key>' format[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:163:5[22m[2m > [22mModule Extraction - extractKeyFromHeader (auth module)[2m > [22mBearer scheme[2m > [22mshould accept lowercase 'bearer'[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:172:5[22m[2m > [22mModule Extraction - extractKeyFromHeader (auth module)[2m > [22mBearer scheme[2m > [22mshould accept mixed case 'BeArEr'[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:183:5[22m[2m > [22mModule Extraction - extractKeyFromHeader (auth module)[2m > [22mApi-Key scheme[2m > [22mshould extract key from 'Api-Key <key>' format[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:192:5[22m[2m > [22mModule Extraction - extractKeyFromHeader (auth module)[2m > [22mApi-Key scheme[2m > [22mshould accept lowercase 'api-key'[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:201:5[22m[2m > [22mModule Extraction - extractKeyFromHeader (auth module)[2m > [22mApi-Key scheme[2m > [22mshould accept mixed case 'ApI-kEy'[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:220:5[22m[2m > [22mModule Extraction - extractKeyFromHeader (auth module)[2m > [22minvalid formats[2m > [22mshould reject missing Authorization header[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:226:5[22m[2m > [22mModule Extraction - extractKeyFromHeader (auth module)[2m > [22minvalid formats[2m > [22mshould reject single token without scheme[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:232:5[22m[2m > [22mModule Extraction - extractKeyFromHeader (auth module)[2m > [22minvalid formats[2m > [22mshould reject more than two parts[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:238:5[22m[2m > [22mModule Extraction - extractKeyFromHeader (auth module)[2m > [22minvalid formats[2m > [22mshould reject invalid scheme[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:244:5[22m[2m > [22mModule Extraction - extractKeyFromHeader (auth module)[2m > [22minvalid formats[2m > [22mshould reject empty scheme[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:250:5[22m[2m > [22mModule Extraction - extractKeyFromHeader (auth module)[2m > [22minvalid formats[2m > [22mshould reject empty key (format error before length check)[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:266:5[22m[2m > [22mModule Extraction - extractKeyFromHeader (auth module)[2m > [22mkey value extraction[2m > [22mshould extract key with special characters[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:271:5[22m[2m > [22mModule Extraction - extractKeyFromHeader (auth module)[2m > [22mkey value extraction[2m > [22mshould extract key with underscores[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/module-extraction.test.ts[2m:280:5[22m[2m > [22mModule Extraction - extractKeyFromHeader (auth module)[2m > [22mkey value extraction[2m > [22mshould extract key with dots[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:30:5[22m[2m > [22mApiKeyAuth[2m > [22mAPI Key Management[2m > [22mshould add and validate API keys[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:43:5[22m[2m > [22mApiKeyAuth[2m > [22mAPI Key Management[2m > [22mshould reject invalid API keys[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:54:5[22m[2m > [22mApiKeyAuth[2m > [22mAPI Key Management[2m > [22mshould handle inactive API keys[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:66:5[22m[2m > [22mApiKeyAuth[2m > [22mAPI Key Management[2m > [22mshould support multiple API keys[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:92:5[22m[2m > [22mApiKeyAuth[2m > [22mAPI Key Management[2m > [22mshould validate minimum key length[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:115:5[22m[2m > [22mApiKeyAuth[2m > [22mAuthorization Header Parsing[2m > [22mshould accept 'Bearer' scheme[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:120:5[22m[2m > [22mApiKeyAuth[2m > [22mAuthorization Header Parsing[2m > [22mshould accept 'Api-Key' scheme[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:125:5[22m[2m > [22mApiKeyAuth[2m > [22mAuthorization Header Parsing[2m > [22mshould accept lowercase scheme[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:130:5[22m[2m > [22mApiKeyAuth[2m > [22mAuthorization Header Parsing[2m > [22mshould reject missing Authorization header[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:136:5[22m[2m > [22mApiKeyAuth[2m > [22mAuthorization Header Parsing[2m > [22mshould reject invalid header format[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:144:5[22m[2m > [22mApiKeyAuth[2m > [22mAuthentication State[2m > [22mshould detect when authentication is enabled[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:155:5[22m[2m > [22mApiKeyAuth[2m > [22mAuthentication State[2m > [22mshould allow requests when authentication is disabled[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:161:5[22m[2m > [22mApiKeyAuth[2m > [22mAuthentication State[2m > [22mshould list configured keys[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:180:5[22m[2m > [22mApiKeyAuth[2m > [22mAuthentication State[2m > [22mshould clear all keys[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:196:5[22m[2m > [22mApiKeyAuth[2m > [22mcreateAuthErrorResponse[2m > [22mshould create properly formatted 401 response[32m 75[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:209:5[22m[2m > [22mApiKeyAuth[2m > [22mcreateAuthErrorResponse[2m > [22mshould support custom status codes[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:219:5[22m[2m > [22mApiKeyAuth[2m > [22mgetAuth singleton[2m > [22mshould return the same instance[32m 12[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:228:5[22m[2m > [22mApiKeyAuth[2m > [22mrequireAuth middleware[2m > [22mshould authenticate valid API keys[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:246:5[22m[2m > [22mApiKeyAuth[2m > [22mrequireAuth middleware[2m > [22mshould reject invalid API keys[32m 7[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:262:5[22m[2m > [22mApiKeyAuth[2m > [22mrequireAuth middleware[2m > [22mshould handle missing Authorization header[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:278:5[22m[2m > [22mApiKeyAuth[2m > [22mrequireAuth middleware[2m > [22mshould allow requests when no keys are configured[32m 14[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth.test.ts[2m:288:5[22m[2m > [22mApiKeyAuth[2m > [22mrequireAuth middleware[2m > [22mshould use singleton instance[32m 14[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:85:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mPublic Endpoint Detection[2m > [22mshould identify /health as public[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:89:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mPublic Endpoint Detection[2m > [22mshould identify /docs as public[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:93:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mPublic Endpoint Detection[2m > [22mshould identify /jobs/types as public[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:97:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mPublic Endpoint Detection[2m > [22mshould not identify /jobs as public[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:101:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mPublic Endpoint Detection[2m > [22mshould not identify /jobs/:id as public[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:105:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mPublic Endpoint Detection[2m > [22mshould not identify unknown routes as public[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:111:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mPublic Endpoints - Auth Bypass[2m > [22mshould bypass authentication for /health[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:119:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mPublic Endpoints - Auth Bypass[2m > [22mshould bypass authentication for /docs[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:125:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mPublic Endpoints - Auth Bypass[2m > [22mshould bypass authentication for /jobs/types[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:133:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mProtected Endpoints - GET /jobs[2m > [22mshould reject request without Authorization header[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:141:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mProtected Endpoints - GET /jobs[2m > [22mshould reject request with invalid API key[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:151:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mProtected Endpoints - GET /jobs[2m > [22mshould reject request with malformed Authorization header[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:160:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mProtected Endpoints - GET /jobs[2m > [22mshould accept request with valid Bearer token[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:171:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mProtected Endpoints - GET /jobs[2m > [22mshould accept request with valid Api-Key scheme[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:181:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mProtected Endpoints - GET /jobs[2m > [22mshould accept request with lowercase bearer scheme[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:192:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mProtected Endpoints - POST /jobs[2m > [22mshould reject job creation without authentication[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:200:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mProtected Endpoints - POST /jobs[2m > [22mshould reject job creation with invalid API key[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:210:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mProtected Endpoints - POST /jobs[2m > [22mshould accept job creation with valid API key[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:222:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mProtected Endpoints - GET /jobs/:id[2m > [22mshould reject status request without authentication[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:229:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mProtected Endpoints - GET /jobs/:id[2m > [22mshould reject status request with invalid API key[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:239:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mProtected Endpoints - GET /jobs/:id[2m > [22mshould return auth failure before checking job existence[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:250:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mProtected Endpoints - GET /jobs/:id[2m > [22mshould accept status request with valid API key[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:262:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mProtected Endpoints - DELETE /jobs/:id[2m > [22mshould reject cancel request without authentication[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:269:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mProtected Endpoints - DELETE /jobs/:id[2m > [22mshould reject cancel request with invalid API key[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:279:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mProtected Endpoints - DELETE /jobs/:id[2m > [22mshould accept cancel request with valid API key[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:291:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mError Response Format for Auth Failures[2m > [22mshould return consistent error structure for missing auth[32m 49[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:309:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mError Response Format for Auth Failures[2m > [22mshould return consistent error structure for invalid key[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:323:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mError Response Format for Auth Failures[2m > [22mshould include WWW-Authenticate header[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:328:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mError Response Format for Auth Failures[2m > [22mshould support custom status codes[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:335:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mAuthorization Header Format Edge Cases[2m > [22mshould handle extra whitespace in header[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:343:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mAuthorization Header Format Edge Cases[2m > [22mshould handle trailing whitespace[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:351:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mAuthorization Header Format Edge Cases[2m > [22mshould reject header with more than two parts[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:362:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mAuthorization Header Format Edge Cases[2m > [22mshould reject header with only one part[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:370:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mAuthorization Header Format Edge Cases[2m > [22mshould reject unsupported auth scheme (Basic)[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:381:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mAuthorization Header Format Edge Cases[2m > [22mshould handle mixed case bearer scheme[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:389:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mAuthorization Header Format Edge Cases[2m > [22mshould handle lowercase api-key scheme[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:399:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mCross-Endpoint Auth Consistency[2m > [22mshould use same auth for GET /jobs and POST /jobs[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:410:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mCross-Endpoint Auth Consistency[2m > [22mshould reject invalid auth consistently across all endpoints[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:432:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mAuthentication Disabled Mode[2m > [22mshould allow requests when no API keys are configured[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:446:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mAuthentication Disabled Mode[2m > [22mshould allow POST /jobs when authentication disabled[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:456:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mAuthentication Disabled Mode[2m > [22mshould allow job status requests when authentication disabled[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:464:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mAuthentication Disabled Mode[2m > [22mshould allow job cancel requests when authentication disabled[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:474:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mInactive API Key Handling[2m > [22mshould reject requests with inactive API key[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:493:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mAuthResult Structure Validation[2m > [22mshould have required fields for successful auth[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:504:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mAuthResult Structure Validation[2m > [22mshould have required fields for failed auth[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:513:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mAuthResult Structure Validation[2m > [22mshould include correct metadata for public endpoints[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:523:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mMultiple API Keys[2m > [22mshould accept requests with any valid API key[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:547:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mMultiple API Keys[2m > [22mshould reject requests when none of the keys match[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:565:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mProtected Operations Summary[2m > [22mshould have authentication coverage for all protected operations[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/protected-endpoints-auth.test.ts[2m:589:5[22m[2m > [22mProtected Endpoints Authentication Coverage[2m > [22mProtected Operations Summary[2m > [22mshould have all public operations properly marked[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit-logging-integration.test.ts[2m:79:5[22m[2m > [22mAudit Logging Integration[2m > [22mAudit Records for Authenticated Requests[2m > [22mshould write audit record for successful authenticated request[32m 110[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit-logging-integration.test.ts[2m:120:5[22m[2m > [22mAudit Logging Integration[2m > [22mAudit Records for Authenticated Requests[2m > [22mshould write audit record for GET request with authentication[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit-logging-integration.test.ts[2m:151:5[22m[2m > [22mAudit Logging Integration[2m > [22mAudit Records for Authenticated Requests[2m > [22mshould write audit record for DELETE request with authentication[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit-logging-integration.test.ts[2m:177:5[22m[2m > [22mAudit Logging Integration[2m > [22mAudit Records for Authenticated Requests[2m > [22mshould write multiple audit records for multiple authenticated requests[32m 8[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit-logging-integration.test.ts[2m:243:5[22m[2m > [22mAudit Logging Integration[2m > [22mAudit Records for Failed Requests[2m > [22mshould write audit record for failed authenticated request[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit-logging-integration.test.ts[2m:273:5[22m[2m > [22mAudit Logging Integration[2m > [22mAudit Records for Failed Requests[2m > [22mshould write audit record for internal server error[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit-logging-integration.test.ts[2m:298:5[22m[2m > [22mAudit Logging Integration[2m > [22mAudit Records for Failed Requests[2m > [22mshould write audit record for request timeout[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit-logging-integration.test.ts[2m:325:5[22m[2m > [22mAudit Logging Integration[2m > [22mAudit Records for Authentication Failures[2m > [22mshould write audit record for missing authorization header[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit-logging-integration.test.ts[2m:359:5[22m[2m > [22mAudit Logging Integration[2m > [22mAudit Records for Authentication Failures[2m > [22mshould write audit record for invalid API key[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit-logging-integration.test.ts[2m:388:5[22m[2m > [22mAudit Logging Integration[2m > [22mAudit Records for Authentication Failures[2m > [22mshould write audit record for malformed authorization header[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit-logging-integration.test.ts[2m:418:5[22m[2m > [22mAudit Logging Integration[2m > [22mAudit Records for Authentication Failures[2m > [22mshould write audit record for inactive API key[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/audit-logging-integration.test.ts[2m:455:5[22m[2m > [22mAudit Logging Integration[2m > [22mMixed Success and Failure Scenarios[2m > [22mshould write audit records for mix of successful and failed requests[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:154:5[22m[2m > [22mEndpoint Schema Validation - POST /jobs[2m > [22mRequest body validation - type field[2m > [22mshould reject missing type field[32m 13[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:165:5[22m[2m > [22mEndpoint Schema Validation - POST /jobs[2m > [22mRequest body validation - type field[2m > [22mshould reject invalid type value[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:179:5[22m[2m > [22mEndpoint Schema Validation - POST /jobs[2m > [22mRequest body validation - type field[2m > [22mshould reject type with wrong type[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:193:5[22m[2m > [22mEndpoint Schema Validation - POST /jobs[2m > [22mRequest body validation - type field[2m > [22mshould accept all valid job types[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:204:5[22m[2m > [22mEndpoint Schema Validation - POST /jobs[2m > [22mRequest body validation - options field[2m > [22mshould reject invalid options type[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:217:5[22m[2m > [22mEndpoint Schema Validation - POST /jobs[2m > [22mRequest body validation - options field[2m > [22mshould reject unknown option keys[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:234:5[22m[2m > [22mEndpoint Schema Validation - POST /jobs[2m > [22mRequest body validation - options field[2m > [22mshould reject invalid maxPages type[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:251:5[22m[2m > [22mEndpoint Schema Validation - POST /jobs[2m > [22mRequest body validation - options field[2m > [22mshould reject non-positive maxPages[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:268:5[22m[2m > [22mEndpoint Schema Validation - POST /jobs[2m > [22mRequest body validation - options field[2m > [22mshould reject non-integer maxPages[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:284:5[22m[2m > [22mEndpoint Schema Validation - POST /jobs[2m > [22mRequest body validation - options field[2m > [22mshould reject empty statusFilter[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:300:5[22m[2m > [22mEndpoint Schema Validation - POST /jobs[2m > [22mRequest body validation - options field[2m > [22mshould reject invalid boolean option types[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:321:5[22m[2m > [22mEndpoint Schema Validation - POST /jobs[2m > [22mRequest body validation - options field[2m > [22mshould accept valid request with minimal fields[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:332:5[22m[2m > [22mEndpoint Schema Validation - POST /jobs[2m > [22mRequest body validation - options field[2m > [22mshould accept valid request with all options[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:354:5[22m[2m > [22mEndpoint Schema Validation - GET /jobs[2m > [22mQuery parameter validation[2m > [22mshould reject invalid status filter[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:367:5[22m[2m > [22mEndpoint Schema Validation - GET /jobs[2m > [22mQuery parameter validation[2m > [22mshould reject invalid type filter[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:380:5[22m[2m > [22mEndpoint Schema Validation - GET /jobs[2m > [22mQuery parameter validation[2m > [22mshould accept valid status filter[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:390:5[22m[2m > [22mEndpoint Schema Validation - GET /jobs[2m > [22mQuery parameter validation[2m > [22mshould accept valid type filter[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:400:5[22m[2m > [22mEndpoint Schema Validation - GET /jobs[2m > [22mQuery parameter validation[2m > [22mshould accept both filters together[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:412:5[22m[2m > [22mEndpoint Schema Validation - GET /jobs[2m > [22mQuery parameter validation[2m > [22mshould accept no filters[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:425:5[22m[2m > [22mEndpoint Schema Validation - GET /jobs/:id and DELETE /jobs/:id[2m > [22mPath parameter validation - job ID[2m > [22mshould reject empty job ID[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:436:5[22m[2m > [22mEndpoint Schema Validation - GET /jobs/:id and DELETE /jobs/:id[2m > [22mPath parameter validation - job ID[2m > [22mshould reject job ID with path traversal[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:456:5[22m[2m > [22mEndpoint Schema Validation - GET /jobs/:id and DELETE /jobs/:id[2m > [22mPath parameter validation - job ID[2m > [22mshould reject job ID with forward slash[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:467:5[22m[2m > [22mEndpoint Schema Validation - GET /jobs/:id and DELETE /jobs/:id[2m > [22mPath parameter validation - job ID[2m > [22mshould reject job ID with backslash[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:478:5[22m[2m > [22mEndpoint Schema Validation - GET /jobs/:id and DELETE /jobs/:id[2m > [22mPath parameter validation - job ID[2m > [22mshould reject job ID exceeding max length[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:489:5[22m[2m > [22mEndpoint Schema Validation - GET /jobs/:id and DELETE /jobs/:id[2m > [22mPath parameter validation - job ID[2m > [22mshould accept valid job ID format[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:512:3[22m[2m > [22mEndpoint Schema Validation - Error Response Consistency[2m > [22mshould include all required fields in validation error[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:541:3[22m[2m > [22mEndpoint Schema Validation - Error Response Consistency[2m > [22mshould generate valid request IDs[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:550:3[22m[2m > [22mEndpoint Schema Validation - Error Response Consistency[2m > [22mshould create properly formatted error responses[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:565:3[22m[2m > [22mEndpoint Schema Validation - Error Response Consistency[2m > [22mshould map HTTP status to error codes correctly[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:576:3[22m[2m > [22mEndpoint Schema Validation - Error Response Consistency[2m > [22mshould get field-specific validation errors[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:589:3[22m[2m > [22mEndpoint Schema Validation - Zod Error Formatting[2m > [22mshould format invalid_enum_value error correctly[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:601:3[22m[2m > [22mEndpoint Schema Validation - Zod Error Formatting[2m > [22mshould format invalid_type error correctly[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:613:3[22m[2m > [22mEndpoint Schema Validation - Zod Error Formatting[2m > [22mshould format too_small error correctly[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:624:3[22m[2m > [22mEndpoint Schema Validation - Zod Error Formatting[2m > [22mshould format too_big error correctly[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:635:3[22m[2m > [22mEndpoint Schema Validation - Zod Error Formatting[2m > [22mshould format unrecognized_keys error correctly[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:649:3[22m[2m > [22mEndpoint Schema Validation - Response Schemas[2m > [22mshould validate health response schema[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:668:3[22m[2m > [22mEndpoint Schema Validation - Response Schemas[2m > [22mshould validate jobs list response schema[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:692:3[22m[2m > [22mEndpoint Schema Validation - Response Schemas[2m > [22mshould validate create job response schema[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:712:3[22m[2m > [22mEndpoint Schema Validation - Edge Cases[2m > [22mshould handle max length boundary for job ID[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:722:3[22m[2m > [22mEndpoint Schema Validation - Edge Cases[2m > [22mshould handle all valid job types case-sensitively[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:733:3[22m[2m > [22mEndpoint Schema Validation - Edge Cases[2m > [22mshould handle all valid job statuses case-sensitively[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:746:3[22m[2m > [22mEndpoint Schema Validation - Validation Functions[2m > [22mshould validateJobId throw on invalid input[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:751:3[22m[2m > [22mEndpoint Schema Validation - Validation Functions[2m > [22mshould validateJobType throw on invalid input[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:755:3[22m[2m > [22mEndpoint Schema Validation - Validation Functions[2m > [22mshould validateJobStatus throw on invalid input[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:759:3[22m[2m > [22mEndpoint Schema Validation - Validation Functions[2m > [22mshould validateCreateJobRequest throw on invalid input[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/endpoint-schema-validation.test.ts[2m:763:3[22m[2m > [22mEndpoint Schema Validation - Validation Functions[2m > [22mshould validateJobsQuery throw on invalid input[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:62:5[22m[2m > [22mAPI Server - Unit Tests[2m > [22mJob Type Validation[2m > [22mshould accept valid job types[32m 9[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:71:5[22m[2m > [22mAPI Server - Unit Tests[2m > [22mJob Type Validation[2m > [22mshould reject invalid job types[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:80:5[22m[2m > [22mAPI Server - Unit Tests[2m > [22mJob Creation Flow[2m > [22mshould create job with pending status[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:90:5[22m[2m > [22mAPI Server - Unit Tests[2m > [22mJob Creation Flow[2m > [22mshould transition job from pending to running[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:101:5[22m[2m > [22mAPI Server - Unit Tests[2m > [22mJob Creation Flow[2m > [22mshould transition job from running to completed[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:119:5[22m[2m > [22mAPI Server - Unit Tests[2m > [22mJob Progress Tracking[2m > [22mshould track job progress[32m 7[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:134:5[22m[2m > [22mAPI Server - Unit Tests[2m > [22mJob Progress Tracking[2m > [22mshould calculate completion percentage[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:159:5[22m[2m > [22mAPI Server - Unit Tests[2m > [22mJob Filtering[2m > [22mshould filter jobs by status[32m 8[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:171:5[22m[2m > [22mAPI Server - Unit Tests[2m > [22mJob Filtering[2m > [22mshould filter jobs by type[32m 6[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:183:5[22m[2m > [22mAPI Server - Unit Tests[2m > [22mJob Deletion[2m > [22mshould delete a job[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:195:5[22m[2m > [22mAPI Server - Unit Tests[2m > [22mJob Deletion[2m > [22mshould return false when deleting non-existent job[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:204:5[22m[2m > [22mAPI Server - Unit Tests[2m > [22mJob Listing[2m > [22mshould return all jobs[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:215:5[22m[2m > [22mAPI Server - Unit Tests[2m > [22mJob Listing[2m > [22mshould return empty array when no jobs exist[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:224:5[22m[2m > [22mAPI Server - Unit Tests[2m > [22mJob Serialization[2m > [22mshould preserve job data through serialization[32m 10[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:246:5[22m[2m > [22mAPI Server - Unit Tests[2m > [22mError Handling[2m > [22mshould handle updating non-existent job gracefully[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:254:5[22m[2m > [22mAPI Server - Unit Tests[2m > [22mError Handling[2m > [22mshould handle progress updates for non-existent job gracefully[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:279:3[22m[2m > [22mJob Lifecycle Integration[2m > [22mshould complete full job lifecycle[32m 10[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:309:3[22m[2m > [22mJob Lifecycle Integration[2m > [22mshould handle failed job lifecycle[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:330:3[22m[2m > [22mJob Lifecycle Integration[2m > [22mshould handle multiple concurrent jobs[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:366:3[22m[2m > [22mJob Lifecycle Integration[2m > [22mshould handle job cancellation for pending jobs[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:384:3[22m[2m > [22mJob Lifecycle Integration[2m > [22mshould handle job cancellation for running jobs[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:403:3[22m[2m > [22mJob Lifecycle Integration[2m > [22mshould handle job filtering by status[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:431:3[22m[2m > [22mJob Lifecycle Integration[2m > [22mshould handle job filtering by type[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/index.test.ts[2m:450:3[22m[2m > [22mJob Lifecycle Integration[2m > [22mshould handle combined status and type filtering[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:53:5[22m[2m > [22mValidation Schemas - Job ID[2m > [22mjobIdSchema[2m > [22mshould accept valid job IDs[32m 6[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:63:5[22m[2m > [22mValidation Schemas - Job ID[2m > [22mjobIdSchema[2m > [22mshould reject invalid job IDs[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:75:5[22m[2m > [22mValidation Schemas - Job ID[2m > [22mvalidateJobId function[2m > [22mshould return validated job ID for valid input[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:79:5[22m[2m > [22mValidation Schemas - Job ID[2m > [22mvalidateJobId function[2m > [22mshould throw ZodError for invalid input[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:88:5[22m[2m > [22mValidation Schemas - Job Type[2m > [22mjobTypeSchema[2m > [22mshould accept all valid job types[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:98:5[22m[2m > [22mValidation Schemas - Job Type[2m > [22mjobTypeSchema[2m > [22mshould reject invalid job types[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:113:5[22m[2m > [22mValidation Schemas - Job Type[2m > [22mjobTypeSchema[2m > [22mshould provide helpful error message for invalid type[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:124:5[22m[2m > [22mValidation Schemas - Job Type[2m > [22mvalidateJobType function[2m > [22mshould return validated job type for valid input[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:128:5[22m[2m > [22mValidation Schemas - Job Type[2m > [22mvalidateJobType function[2m > [22mshould throw ZodError for invalid input[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:136:5[22m[2m > [22mValidation Schemas - Job Status[2m > [22mjobStatusSchema[2m > [22mshould accept all valid job statuses[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:146:5[22m[2m > [22mValidation Schemas - Job Status[2m > [22mjobStatusSchema[2m > [22mshould reject invalid job statuses[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:163:5[22m[2m > [22mValidation Schemas - Job Status[2m > [22mvalidateJobStatus function[2m > [22mshould return validated job status for valid input[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:167:5[22m[2m > [22mValidation Schemas - Job Status[2m > [22mvalidateJobStatus function[2m > [22mshould throw ZodError for invalid input[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:175:5[22m[2m > [22mValidation Schemas - Job Options[2m > [22mjobOptionsSchema[2m > [22mshould accept valid options object[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:198:5[22m[2m > [22mValidation Schemas - Job Options[2m > [22mjobOptionsSchema[2m > [22mshould reject invalid maxPages type[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:206:5[22m[2m > [22mValidation Schemas - Job Options[2m > [22mjobOptionsSchema[2m > [22mshould reject non-positive maxPages[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:218:5[22m[2m > [22mValidation Schemas - Job Options[2m > [22mjobOptionsSchema[2m > [22mshould reject non-integer maxPages[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:226:5[22m[2m > [22mValidation Schemas - Job Options[2m > [22mjobOptionsSchema[2m > [22mshould reject invalid boolean options[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:240:5[22m[2m > [22mValidation Schemas - Job Options[2m > [22mjobOptionsSchema[2m > [22mshould reject unknown options[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:249:5[22m[2m > [22mValidation Schemas - Job Options[2m > [22mjobOptionsSchema[2m > [22mshould reject null options[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:258:5[22m[2m > [22mValidation Schemas - Create Job Request[2m > [22mcreateJobRequestSchema[2m > [22mshould accept valid request with type only[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:269:5[22m[2m > [22mValidation Schemas - Create Job Request[2m > [22mcreateJobRequestSchema[2m > [22mshould accept valid request with options[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:286:5[22m[2m > [22mValidation Schemas - Create Job Request[2m > [22mcreateJobRequestSchema[2m > [22mshould reject missing type field[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:294:5[22m[2m > [22mValidation Schemas - Create Job Request[2m > [22mcreateJobRequestSchema[2m > [22mshould reject invalid type[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:301:5[22m[2m > [22mValidation Schemas - Create Job Request[2m > [22mcreateJobRequestSchema[2m > [22mshould reject invalid options[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:311:5[22m[2m > [22mValidation Schemas - Create Job Request[2m > [22mvalidateCreateJobRequest function[2m > [22mshould return validated request for valid input[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:317:5[22m[2m > [22mValidation Schemas - Create Job Request[2m > [22mvalidateCreateJobRequest function[2m > [22mshould throw ZodError for invalid input[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:323:5[22m[2m > [22mValidation Schemas - Create Job Request[2m > [22mTypeScript type inference[2m > [22mshould correctly infer CreateJobRequest type[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:338:5[22m[2m > [22mValidation Schemas - Jobs Query Parameters[2m > [22mjobsQuerySchema[2m > [22mshould accept empty query[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:347:5[22m[2m > [22mValidation Schemas - Jobs Query Parameters[2m > [22mjobsQuerySchema[2m > [22mshould accept valid status filter[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:355:5[22m[2m > [22mValidation Schemas - Jobs Query Parameters[2m > [22mjobsQuerySchema[2m > [22mshould accept valid type filter[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:363:5[22m[2m > [22mValidation Schemas - Jobs Query Parameters[2m > [22mjobsQuerySchema[2m > [22mshould accept both status and type filters[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:371:5[22m[2m > [22mValidation Schemas - Jobs Query Parameters[2m > [22mjobsQuerySchema[2m > [22mshould reject invalid status[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:376:5[22m[2m > [22mValidation Schemas - Jobs Query Parameters[2m > [22mjobsQuerySchema[2m > [22mshould reject invalid type[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:383:5[22m[2m > [22mValidation Schemas - Jobs Query Parameters[2m > [22mvalidateJobsQuery function[2m > [22mshould return validated query for valid input[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:388:5[22m[2m > [22mValidation Schemas - Jobs Query Parameters[2m > [22mvalidateJobsQuery function[2m > [22mshould throw ZodError for invalid input[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:394:5[22m[2m > [22mValidation Schemas - Jobs Query Parameters[2m > [22mTypeScript type inference[2m > [22mshould correctly infer JobsQuery type[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:405:3[22m[2m > [22mValidation Helpers - safeValidate[2m > [22mshould return success with data for valid input[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:413:3[22m[2m > [22mValidation Helpers - safeValidate[2m > [22mshould return failure with error for invalid input[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:424:3[22m[2m > [22mValidation Helpers - formatZodError[2m > [22mshould format invalid_enum_value error[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:439:3[22m[2m > [22mValidation Helpers - formatZodError[2m > [22mshould format invalid_type error[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:452:3[22m[2m > [22mValidation Helpers - formatZodError[2m > [22mshould format too_small error[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:465:3[22m[2m > [22mValidation Helpers - formatZodError[2m > [22mshould format too_big error[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:478:3[22m[2m > [22mValidation Helpers - formatZodError[2m > [22mshould format unrecognized_keys error[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:491:3[22m[2m > [22mValidation Helpers - formatZodError[2m > [22mshould always include suggestions[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:508:3[22m[2m > [22mValidation Schemas - Edge Cases[2m > [22mshould handle max length boundary for job ID[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:518:3[22m[2m > [22mValidation Schemas - Edge Cases[2m > [22mshould handle single character job ID[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:523:3[22m[2m > [22mValidation Schemas - Edge Cases[2m > [22mshould handle valid job ID with multiple dots[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:528:3[22m[2m > [22mValidation Schemas - Edge Cases[2m > [22mshould handle all valid job types case-sensitively[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:540:3[22m[2m > [22mValidation Schemas - Edge Cases[2m > [22mshould handle all valid job statuses case-sensitively[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:552:3[22m[2m > [22mValidation Schemas - Edge Cases[2m > [22mshould handle maxPages boundary values[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:568:3[22m[2m > [22mValidation Schemas - Edge Cases[2m > [22mshould handle empty statusFilter[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:576:3[22m[2m > [22mValidation Schemas - Edge Cases[2m > [22mshould handle all boolean option variations[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:601:3[22m[2m > [22mValidation Schemas - Integration[2m > [22mshould validate complete create job request[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:620:3[22m[2m > [22mValidation Schemas - Integration[2m > [22mshould validate jobs query with both filters[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:633:3[22m[2m > [22mValidation Schemas - Integration[2m > [22mshould handle complex validation errors[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/validation-schemas.test.ts[2m:654:3[22m[2m > [22mValidation Schemas - Constants[2m > [22mshould export all validation constants[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:65:5[22m[2m > [22mAPI Routes - Validation[2m > [22mJob Types Validation[2m > [22mshould support all 7 required job types[32m 11[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:69:5[22m[2m > [22mAPI Routes - Validation[2m > [22mJob Types Validation[2m > [22mshould accept all valid job types for job creation[32m 9[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:82:5[22m[2m > [22mAPI Routes - Validation[2m > [22mJob Types Validation[2m > [22mshould have correct job type descriptions[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:110:5[22m[2m > [22mAPI Routes - Validation[2m > [22mAPI Response Shapes[2m > [22mshould return correct health check response shape[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:123:5[22m[2m > [22mAPI Routes - Validation[2m > [22mAPI Response Shapes[2m > [22mshould return correct job list response shape[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:156:5[22m[2m > [22mAPI Routes - Validation[2m > [22mAPI Response Shapes[2m > [22mshould return correct job creation response shape[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:181:5[22m[2m > [22mAPI Routes - Validation[2m > [22mAPI Response Shapes[2m > [22mshould return correct job status response shape[32m 9[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:213:5[22m[2m > [22mAPI Routes - Validation[2m > [22mError Response Shapes[2m > [22mshould return consistent error response shape[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:222:5[22m[2m > [22mAPI Routes - Validation[2m > [22mError Response Shapes[2m > [22mshould return 404 response shape for unknown routes[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:247:5[22m[2m > [22mAPI Routes - Validation[2m > [22mJob Status Transitions[2m > [22mshould support all required job statuses[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:269:5[22m[2m > [22mAPI Routes - Validation[2m > [22mJob Status Transitions[2m > [22mshould handle failed job status with error result[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:287:5[22m[2m > [22mAPI Routes - Validation[2m > [22mRequest Validation[2m > [22mshould validate job type in request body[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:308:5[22m[2m > [22mAPI Routes - Validation[2m > [22mRequest Validation[2m > [22mshould accept optional options in request body[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:327:5[22m[2m > [22mAPI Routes - Validation[2m > [22mCORS Headers Validation[2m > [22mshould include correct CORS headers[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:349:5[22m[2m > [22mAPI Routes - Validation[2m > [22mJob Options Support[2m > [22mshould support all defined job options[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:386:3[22m[2m > [22mAPI Routes - Endpoint Coverage[2m > [22mshould have all required endpoints defined[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:398:3[22m[2m > [22mAPI Routes - Endpoint Coverage[2m > [22mshould support GET, POST, and DELETE methods[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:434:3[22m[2m > [22mAPI Routes - Endpoint Minimality and Sufficiency[2m > [22mshould have exactly 7 endpoints (minimality check)[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:446:3[22m[2m > [22mAPI Routes - Endpoint Minimality and Sufficiency[2m > [22mshould cover complete CRUD operations (sufficiency check)[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:468:3[22m[2m > [22mAPI Routes - Endpoint Minimality and Sufficiency[2m > [22mshould support all required job lifecycle operations[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:488:3[22m[2m > [22mAPI Routes - Endpoint Minimality and Sufficiency[2m > [22mshould use query parameters instead of separate endpoints for filtering[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:503:3[22m[2m > [22mAPI Routes - Endpoint Minimality and Sufficiency[2m > [22mshould follow REST conventions[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:525:3[22m[2m > [22mAPI Routes - Endpoint Minimality and Sufficiency[2m > [22mshould have no redundant endpoints[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:533:3[22m[2m > [22mAPI Routes - Endpoint Minimality and Sufficiency[2m > [22mshould include discovery endpoints for API usability[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-routes.validation.test.ts[2m:544:3[22m[2m > [22mAPI Routes - Endpoint Minimality and Sufficiency[2m > [22mshould support HATEOAS-like response structure[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-documentation-validation.test.ts[2m:61:5[22m[2m > [22mAPI Documentation Validation[2m > [22mResponse Envelope Structure[2m > [22mshould include data, requestId, and timestamp in success responses[32m 13[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-documentation-validation.test.ts[2m:81:5[22m[2m > [22mAPI Documentation Validation[2m > [22mResponse Envelope Structure[2m > [22mshould include code, message, status, requestId, and timestamp in error responses[32m 10[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-documentation-validation.test.ts[2m:118:5[22m[2m > [22mAPI Documentation Validation[2m > [22mResponse Envelope Structure[2m > [22mshould not include optional fields when not provided[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-documentation-validation.test.ts[2m:133:5[22m[2m > [22mAPI Documentation Validation[2m > [22mHealth Check Response Schema[2m > [22mshould match documented structure[32m 6[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-documentation-validation.test.ts[2m:155:5[22m[2m > [22mAPI Documentation Validation[2m > [22mHealth Check Response Schema[2m > [22mshould allow auth to be optional[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-documentation-validation.test.ts[2m:168:5[22m[2m > [22mAPI Documentation Validation[2m > [22mJobs List Response Schema[2m > [22mshould use 'items' field not 'jobs' field[32m 7[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-documentation-validation.test.ts[2m:207:5[22m[2m > [22mAPI Documentation Validation[2m > [22mJobs List Response Schema[2m > [22mshould validate job progress structure[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-documentation-validation.test.ts[2m:235:5[22m[2m > [22mAPI Documentation Validation[2m > [22mJobs List Response Schema[2m > [22mshould validate job result structure[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-documentation-validation.test.ts[2m:262:5[22m[2m > [22mAPI Documentation Validation[2m > [22mCreate Job Response Schema[2m > [22mshould match documented structure[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-documentation-validation.test.ts[2m:287:5[22m[2m > [22mAPI Documentation Validation[2m > [22mCancel Job Response Schema[2m > [22mshould match documented structure[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-documentation-validation.test.ts[2m:306:5[22m[2m > [22mAPI Documentation Validation[2m > [22mError Response Schema[2m > [22mshould match documented structure with all fields[32m 6[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-documentation-validation.test.ts[2m:335:5[22m[2m > [22mAPI Documentation Validation[2m > [22mError Response Schema[2m > [22mshould allow optional fields to be omitted[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-documentation-validation.test.ts[2m:353:5[22m[2m > [22mAPI Documentation Validation[2m > [22mError Response Schema[2m > [22mshould validate requestId format[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-documentation-validation.test.ts[2m:367:5[22m[2m > [22mAPI Documentation Validation[2m > [22mError Response Schema[2m > [22mshould validate timestamp is ISO 8601[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-documentation-validation.test.ts[2m:383:5[22m[2m > [22mAPI Documentation Validation[2m > [22mError Code Enumeration[2m > [22mshould include all documented error codes[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-documentation-validation.test.ts[2m:412:5[22m[2m > [22mAPI Documentation Validation[2m > [22mError Code Enumeration[2m > [22mshould have consistent error code values[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-documentation-validation.test.ts[2m:425:5[22m[2m > [22mAPI Documentation Validation[2m > [22mJob Tracker Integration[2m > [22mshould produce data matching job schema[32m 3[2mms[22m[39m
[90mstdout[2m | scripts/api-server/job-executor.test.ts[2m:53:5[22m[2m[2m > [22m[2mjob-executor - GitHub status reporting integration[2m > [22m[2mGitHub status reporting via onComplete callback[2m > [22m[2mshould pass GitHub context and report completion on success
[22m[39m[Job 1770549967472-6pss27p] Executing job {
  script: [32m'bun'[39m,
  args: [ [32m'scripts/notion-status'[39m, [32m'--workflow'[39m, [32m'draft'[39m ]
}

[90mstdout[2m | scripts/api-server/job-executor.test.ts[2m:104:5[22m[2m[2m > [22m[2mjob-executor - GitHub status reporting integration[2m > [22m[2mGitHub status reporting via onComplete callback[2m > [22m[2mshould not call reportJobCompletion when GitHub context is not provided
[22m[39m[Job 1770549967502-eriwrmr] Executing job {
  script: [32m'bun'[39m,
  args: [ [32m'scripts/notion-status'[39m, [32m'--workflow'[39m, [32m'draft'[39m ]
}

[90mstdout[2m | scripts/api-server/job-executor.test.ts[2m:124:5[22m[2m[2m > [22m[2mjob-executor - GitHub status reporting integration[2m > [22m[2mGitHub status reporting via onComplete callback[2m > [22m[2mshould pass custom context and target URL from GitHub context
[22m[39m[Job 1770549967509-vxybuj1] Executing job {
  script: [32m'bun'[39m,
  args: [ [32m'scripts/notion-status'[39m, [32m'--workflow'[39m, [32m'draft'[39m ]
}

[90mstdout[2m | scripts/api-server/job-executor.test.ts[2m:168:5[22m[2m[2m > [22m[2mjob-executor - GitHub status reporting integration[2m > [22m[2mGitHub status reporting via onComplete callback[2m > [22m[2mshould include job duration in the completion report
[22m[39m[Job 1770549967519-2drshvk] Executing job {
  script: [32m'bun'[39m,
  args: [ [32m'scripts/notion-status'[39m, [32m'--workflow'[39m, [32m'draft'[39m ]
}

 [32mâœ“[39m scripts/api-server/job-executor.test.ts[2m:53:5[22m[2m > [22mjob-executor - GitHub status reporting integration[2m > [22mGitHub status reporting via onComplete callback[2m > [22mshould pass GitHub context and report completion on success[32m 34[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor.test.ts[2m:104:5[22m[2m > [22mjob-executor - GitHub status reporting integration[2m > [22mGitHub status reporting via onComplete callback[2m > [22mshould not call reportJobCompletion when GitHub context is not provided[32m 7[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor.test.ts[2m:124:5[22m[2m > [22mjob-executor - GitHub status reporting integration[2m > [22mGitHub status reporting via onComplete callback[2m > [22mshould pass custom context and target URL from GitHub context[32m 10[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor.test.ts[2m:168:5[22m[2m > [22mjob-executor - GitHub status reporting integration[2m > [22mGitHub status reporting via onComplete callback[2m > [22mshould include job duration in the completion report[32m 14[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:29:5[22m[2m > [22mDocker Configuration Tests[2m > [22mDockerfile[2m > [22mshould set NODE_ENV to production[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:35:5[22m[2m > [22mDocker Configuration Tests[2m > [22mDockerfile[2m > [22mshould run API server as CMD[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:39:5[22m[2m > [22mDocker Configuration Tests[2m > [22mDockerfile[2m > [22mshould install dependencies before copying source code[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:57:7[22m[2m > [22mDocker Configuration Tests[2m > [22mDockerfile[2m > [22mImage Minimization[2m > [22mshould only copy production dependencies[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:61:7[22m[2m > [22mDocker Configuration Tests[2m > [22mDockerfile[2m > [22mImage Minimization[2m > [22mshould clear bun package cache after install[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:65:7[22m[2m > [22mDocker Configuration Tests[2m > [22mDockerfile[2m > [22mImage Minimization[2m > [22mshould copy only essential API server files[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:74:7[22m[2m > [22mDocker Configuration Tests[2m > [22mDockerfile[2m > [22mImage Minimization[2m > [22mshould use chown for non-root user permissions[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:81:7[22m[2m > [22mDocker Configuration Tests[2m > [22mDockerfile[2m > [22mBuild Configurability[2m > [22mshould support configurable Bun version via ARG[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:86:7[22m[2m > [22mDocker Configuration Tests[2m > [22mDockerfile[2m > [22mBuild Configurability[2m > [22mshould support configurable NODE_ENV via ARG[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:90:7[22m[2m > [22mDocker Configuration Tests[2m > [22mDockerfile[2m > [22mBuild Configurability[2m > [22mshould support configurable health check intervals via ARG[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:97:7[22m[2m > [22mDocker Configuration Tests[2m > [22mDockerfile[2m > [22mBuild Configurability[2m > [22mshould use ARG variables in HEALTHCHECK instruction[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:118:5[22m[2m > [22mDocker Configuration Tests[2m > [22mdocker-compose.yml[2m > [22mshould build from Dockerfile in current context[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:123:5[22m[2m > [22mDocker Configuration Tests[2m > [22mdocker-compose.yml[2m > [22mshould map port 3001 with environment variable override[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:131:7[22m[2m > [22mDocker Configuration Tests[2m > [22mdocker-compose.yml[2m > [22mEnvironment Variable Configurability[2m > [22mshould support configurable image name[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:137:7[22m[2m > [22mDocker Configuration Tests[2m > [22mdocker-compose.yml[2m > [22mEnvironment Variable Configurability[2m > [22mshould support configurable image tag[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:141:7[22m[2m > [22mDocker Configuration Tests[2m > [22mdocker-compose.yml[2m > [22mEnvironment Variable Configurability[2m > [22mshould support configurable container name[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:147:7[22m[2m > [22mDocker Configuration Tests[2m > [22mdocker-compose.yml[2m > [22mEnvironment Variable Configurability[2m > [22mshould support build arguments for Bun version[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:151:7[22m[2m > [22mDocker Configuration Tests[2m > [22mdocker-compose.yml[2m > [22mEnvironment Variable Configurability[2m > [22mshould support configurable resource limits[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:156:7[22m[2m > [22mDocker Configuration Tests[2m > [22mdocker-compose.yml[2m > [22mEnvironment Variable Configurability[2m > [22mshould support configurable resource reservations[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:161:7[22m[2m > [22mDocker Configuration Tests[2m > [22mdocker-compose.yml[2m > [22mEnvironment Variable Configurability[2m > [22mshould support configurable restart policy[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:167:7[22m[2m > [22mDocker Configuration Tests[2m > [22mdocker-compose.yml[2m > [22mEnvironment Variable Configurability[2m > [22mshould support configurable health check intervals[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:174:7[22m[2m > [22mDocker Configuration Tests[2m > [22mdocker-compose.yml[2m > [22mEnvironment Variable Configurability[2m > [22mshould support configurable logging options[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:180:7[22m[2m > [22mDocker Configuration Tests[2m > [22mdocker-compose.yml[2m > [22mEnvironment Variable Configurability[2m > [22mshould support configurable volume name[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:186:7[22m[2m > [22mDocker Configuration Tests[2m > [22mdocker-compose.yml[2m > [22mEnvironment Variable Configurability[2m > [22mshould support configurable network name[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:193:7[22m[2m > [22mDocker Configuration Tests[2m > [22mdocker-compose.yml[2m > [22mEnvironment Variable Configurability[2m > [22mshould include metadata labels[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:213:5[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mshould exist[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:217:5[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mshould exclude node_modules[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:221:5[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mshould exclude .env files[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:229:5[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mshould exclude test files and coverage[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:238:5[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mshould exclude documentation directories[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:243:5[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mshould exclude .git directory[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:247:5[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mshould exclude IDE directories[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:252:5[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mshould exclude Docker files themselves[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:261:5[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mshould exclude generated content from content branch[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:267:5[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mshould exclude job persistence data[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:273:7[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mImage Size Minimization[2m > [22mshould exclude development configuration files[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:279:7[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mImage Size Minimization[2m > [22mshould exclude CI/CD configuration[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:284:7[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mImage Size Minimization[2m > [22mshould exclude development worktrees[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:288:7[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mImage Size Minimization[2m > [22mshould exclude test configuration files[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:293:7[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mImage Size Minimization[2m > [22mshould exclude build artifacts[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:299:7[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mImage Size Minimization[2m > [22mshould exclude project documentation[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:305:7[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mImage Size Minimization[2m > [22mshould exclude assets not needed for API[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:313:7[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mImage Size Minimization[2m > [22mshould exclude development planning files[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:319:7[22m[2m > [22mDocker Configuration Tests[2m > [22m.dockerignore[2m > [22mImage Size Minimization[2m > [22mshould exclude OS-specific files[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:330:5[22m[2m > [22mDocker Configuration Tests[2m > [22mDocker Configuration Integration[2m > [22mshould include all required environment variables in compose[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-config.test.ts[2m:345:5[22m[2m > [22mDocker Configuration Tests[2m > [22mDocker Configuration Integration[2m > [22mshould support build args in docker-compose that match Dockerfile ARGs[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:67:3[22m[2m > [22mInput Validation - Job Type Validation[2m > [22mshould accept valid job types[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:73:3[22m[2m > [22mInput Validation - Job Type Validation[2m > [22mshould reject invalid job types[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:82:3[22m[2m > [22mInput Validation - Job Status Validation[2m > [22mshould accept valid job statuses[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:89:3[22m[2m > [22mInput Validation - Job Status Validation[2m > [22mshould reject invalid job statuses[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:98:3[22m[2m > [22mInput Validation - Job ID Validation[2m > [22mshould accept valid job IDs[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:105:3[22m[2m > [22mInput Validation - Job ID Validation[2m > [22mshould reject empty job IDs[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:109:3[22m[2m > [22mInput Validation - Job ID Validation[2m > [22mshould reject job IDs exceeding max length[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:113:3[22m[2m > [22mInput Validation - Job ID Validation[2m > [22mshould reject job IDs with path traversal characters[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:124:5[22m[2m > [22mInput Validation - POST /jobs Request Body[2m > [22mtype field validation[2m > [22mshould require type field[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:129:5[22m[2m > [22mInput Validation - POST /jobs Request Body[2m > [22mtype field validation[2m > [22mshould require type to be a string[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:134:5[22m[2m > [22mInput Validation - POST /jobs Request Body[2m > [22mtype field validation[2m > [22mshould validate job type[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:149:5[22m[2m > [22mInput Validation - POST /jobs Request Body[2m > [22moptions field validation[2m > [22mshould accept valid option keys[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:163:5[22m[2m > [22mInput Validation - POST /jobs Request Body[2m > [22moptions field validation[2m > [22mshould reject unknown option keys[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:171:5[22m[2m > [22mInput Validation - POST /jobs Request Body[2m > [22moptions field validation[2m > [22mshould validate maxPages type[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:179:5[22m[2m > [22mInput Validation - POST /jobs Request Body[2m > [22moptions field validation[2m > [22mshould validate statusFilter type[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:187:5[22m[2m > [22mInput Validation - POST /jobs Request Body[2m > [22moptions field validation[2m > [22mshould validate force type[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:195:5[22m[2m > [22mInput Validation - POST /jobs Request Body[2m > [22moptions field validation[2m > [22mshould validate dryRun type[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:203:5[22m[2m > [22mInput Validation - POST /jobs Request Body[2m > [22moptions field validation[2m > [22mshould validate includeRemoved type[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:214:3[22m[2m > [22mInput Validation - GET /jobs Query Parameters[2m > [22mshould validate status parameter[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:219:3[22m[2m > [22mInput Validation - GET /jobs Query Parameters[2m > [22mshould validate type parameter[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:226:3[22m[2m > [22mInput Validation - GET /jobs/:id and DELETE /jobs/:id[2m > [22mshould validate job ID format[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:234:3[22m[2m > [22mError Response Format[2m > [22mshould have consistent error response structure[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:242:3[22m[2m > [22mError Response Format[2m > [22mshould include details when provided[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:264:3[22m[2m > [22mIntegration - Job Tracker with Validation[2m > [22mshould create job with valid type[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:277:3[22m[2m > [22mIntegration - Job Tracker with Validation[2m > [22mshould handle query parameter filtering with validation[32m 11[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:312:3[22m[2m > [22mIntegration - Job Tracker with Validation[2m > [22mshould validate job ID for status queries[32m 6[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:328:3[22m[2m > [22mSecurity - Path Traversal Prevention[2m > [22mshould prevent path traversal in job IDs[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:343:3[22m[2m > [22mSecurity - Path Traversal Prevention[2m > [22mshould accept valid job IDs with dots (not path traversal)[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:359:3[22m[2m > [22mSecurity - Request Size Limits[2m > [22mshould enforce max request size[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:374:5[22m[2m > [22mEndpoint Input Schemas - Complete Coverage[2m > [22mPOST /jobs endpoint schema[2m > [22mshould validate all required fields[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:399:5[22m[2m > [22mEndpoint Input Schemas - Complete Coverage[2m > [22mPOST /jobs endpoint schema[2m > [22mshould validate options schema with all types[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:415:5[22m[2m > [22mEndpoint Input Schemas - Complete Coverage[2m > [22mPOST /jobs endpoint schema[2m > [22mshould reject invalid option types[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:438:5[22m[2m > [22mEndpoint Input Schemas - Complete Coverage[2m > [22mGET /jobs endpoint schema[2m > [22mshould accept valid query parameters[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:464:5[22m[2m > [22mEndpoint Input Schemas - Complete Coverage[2m > [22mGET /jobs endpoint schema[2m > [22mshould reject invalid query parameters[32m 3[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:486:5[22m[2m > [22mEndpoint Input Schemas - Complete Coverage[2m > [22mGET /jobs/:id and DELETE /jobs/:id endpoint schema[2m > [22mshould accept valid job ID format[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:502:5[22m[2m > [22mEndpoint Input Schemas - Complete Coverage[2m > [22mGET /jobs/:id and DELETE /jobs/:id endpoint schema[2m > [22mshould reject invalid job ID format[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:522:5[22m[2m > [22mError Responses - Complete Coverage[2m > [22mValidation errors (400)[2m > [22mshould return correct error structure for missing field[32m 6[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:536:5[22m[2m > [22mError Responses - Complete Coverage[2m > [22mValidation errors (400)[2m > [22mshould return correct error structure for invalid format[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:551:5[22m[2m > [22mError Responses - Complete Coverage[2m > [22mValidation errors (400)[2m > [22mshould return correct error structure for invalid enum value[32m 21[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:578:5[22m[2m > [22mError Responses - Complete Coverage[2m > [22mValidation errors (400)[2m > [22mshould return correct error structure for invalid input[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:605:5[22m[2m > [22mError Responses - Complete Coverage[2m > [22mAuthentication errors (401)[2m > [22mshould return correct error structure for unauthorized[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:620:5[22m[2m > [22mError Responses - Complete Coverage[2m > [22mNot found errors (404)[2m > [22mshould return correct error structure for resource not found[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:635:5[22m[2m > [22mError Responses - Complete Coverage[2m > [22mNot found errors (404)[2m > [22mshould return correct error structure for endpoint not found[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:668:5[22m[2m > [22mError Responses - Complete Coverage[2m > [22mConflict errors (409)[2m > [22mshould return correct error structure for invalid state transition[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/input-validation.test.ts[2m:685:5[22m[2m > [22mError Responses - Complete Coverage[2m > [22mError response consistency[2m > [22mshould have consistent structure across all error types[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-docs.test.ts[2m:54:5[22m[2m > [22mAPI Documentation Endpoint[2m > [22mOpenAPI Specification Structure[2m > [22mshould include OpenAPI version[32m 8[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-docs.test.ts[2m:69:5[22m[2m > [22mAPI Documentation Endpoint[2m > [22mOpenAPI Specification Structure[2m > [22mshould include all required paths[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-docs.test.ts[2m:95:5[22m[2m > [22mAPI Documentation Endpoint[2m > [22mOpenAPI Specification Structure[2m > [22mshould include security scheme for bearer auth[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-docs.test.ts[2m:109:5[22m[2m > [22mAPI Documentation Endpoint[2m > [22mPath Documentation[2m > [22mshould document /health endpoint[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-docs.test.ts[2m:130:5[22m[2m > [22mAPI Documentation Endpoint[2m > [22mPath Documentation[2m > [22mshould document /docs endpoint[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-docs.test.ts[2m:150:5[22m[2m > [22mAPI Documentation Endpoint[2m > [22mPath Documentation[2m > [22mshould document /jobs/types endpoint[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-docs.test.ts[2m:169:5[22m[2m > [22mAPI Documentation Endpoint[2m > [22mPath Documentation[2m > [22mshould document /jobs POST endpoint[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-docs.test.ts[2m:207:5[22m[2m > [22mAPI Documentation Endpoint[2m > [22mPath Documentation[2m > [22mshould document /jobs GET endpoint with filters[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-docs.test.ts[2m:243:5[22m[2m > [22mAPI Documentation Endpoint[2m > [22mPath Documentation[2m > [22mshould document /jobs/:id GET endpoint[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-docs.test.ts[2m:276:5[22m[2m > [22mAPI Documentation Endpoint[2m > [22mPath Documentation[2m > [22mshould document /jobs/:id DELETE endpoint[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-docs.test.ts[2m:312:5[22m[2m > [22mAPI Documentation Endpoint[2m > [22mSchema Definitions[2m > [22mshould define HealthResponse schema[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-docs.test.ts[2m:335:5[22m[2m > [22mAPI Documentation Endpoint[2m > [22mSchema Definitions[2m > [22mshould define ErrorResponse schema[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-docs.test.ts[2m:353:5[22m[2m > [22mAPI Documentation Endpoint[2m > [22mSchema Definitions[2m > [22mshould define Job schema[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-docs.test.ts[2m:398:5[22m[2m > [22mAPI Documentation Endpoint[2m > [22mSchema Definitions[2m > [22mshould define CreateJobRequest schema[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-docs.test.ts[2m:440:5[22m[2m > [22mAPI Documentation Endpoint[2m > [22mTags[2m > [22mshould define API tags[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/api-docs.test.ts[2m:464:5[22m[2m > [22mAPI Documentation Endpoint[2m > [22mServer Configuration[2m > [22mshould include server configuration[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:14:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mFile Structure[2m > [22mshould exist in context workflows[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:18:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mFile Structure[2m > [22mshould have content[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:31:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mFirst-Time Operator Friendliness[2m > [22mshould have deployment overview with time estimate[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:36:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mFirst-Time Operator Friendliness[2m > [22mshould start with preparation steps on local machine[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:42:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mFirst-Time Operator Friendliness[2m > [22mshould guide through API key generation[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:47:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mFirst-Time Operator Friendliness[2m > [22mshould explain where to get required secrets[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:52:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mFirst-Time Operator Friendliness[2m > [22mshould provide environment file creation instructions[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:66:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mVPS Deployment Steps[2m > [22mshould document VPS setup[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:71:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mVPS Deployment Steps[2m > [22mshould include deployment commands[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:78:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mVPS Deployment Steps[2m > [22mshould include health check verification[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:83:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mVPS Deployment Steps[2m > [22mshould provide verification steps[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:96:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mGitHub Integration[2m > [22mshould document GitHub workflow setup[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:101:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mGitHub Integration[2m > [22mshould list required GitHub secrets[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:108:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mGitHub Integration[2m > [22mshould list optional Cloudflare Pages secrets[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:113:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mGitHub Integration[2m > [22mshould list optional notification secrets[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:117:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mGitHub Integration[2m > [22mshould list optional configuration secrets with defaults[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:123:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mGitHub Integration[2m > [22mshould explain implications of missing Cloudflare secrets[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:127:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mGitHub Integration[2m > [22mshould document all available GitHub workflows[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:131:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mGitHub Integration[2m > [22mshould document Notion Fetch via API workflow with job types[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:143:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mGitHub Integration[2m > [22mshould document Sync Notion Docs workflow[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:149:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mGitHub Integration[2m > [22mshould document Translate Notion Docs workflow[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:155:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mGitHub Integration[2m > [22mshould document Deploy PR Preview workflow with labels[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:164:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mGitHub Integration[2m > [22mshould document Deploy to Production workflow[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:171:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mGitHub Integration[2m > [22mshould document Deploy to GitHub Pages workflow[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:177:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mGitHub Integration[2m > [22mshould explain how to trigger the workflow[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:182:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mGitHub Integration[2m > [22mshould provide verification steps for workflow secrets[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:189:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mGitHub Integration[2m > [22mshould document common workflow issues[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:204:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mValidation and Checklist[2m > [22mshould include validation checklist[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:209:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mValidation and Checklist[2m > [22mshould verify container is running[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:214:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mValidation and Checklist[2m > [22mshould verify health check[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:218:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mValidation and Checklist[2m > [22mshould include firewall verification[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:222:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mValidation and Checklist[2m > [22mshould include GitHub secrets verification in checklist[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:243:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mTroubleshooting[2m > [22mshould have troubleshooting section with symptoms[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:248:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mTroubleshooting[2m > [22mshould cover container startup issues[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:253:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mTroubleshooting[2m > [22mshould cover health check failures[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:258:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mTroubleshooting[2m > [22mshould cover permission issues[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:264:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mTroubleshooting[2m > [22mshould cover memory issues[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:270:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mTroubleshooting[2m > [22mshould provide diagnosis commands[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:283:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mOngoing Operations[2m > [22mshould document log viewing[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:289:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mOngoing Operations[2m > [22mshould document service restart[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:294:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mOngoing Operations[2m > [22mshould document service update[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:300:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mOngoing Operations[2m > [22mshould document backup procedure[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:314:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mStructure and Clarity[2m > [22mshould use clear section numbering with parts[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:320:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mStructure and Clarity[2m > [22mshould use step numbering within parts[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:326:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mStructure and Clarity[2m > [22mshould highlight verification points[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:331:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mStructure and Clarity[2m > [22mshould provide expected outputs[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:336:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mStructure and Clarity[2m > [22mshould use code blocks for commands[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:340:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mStructure and Clarity[2m > [22mshould include reference links[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:353:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould document both standalone and existing stack deployment options[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:358:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould describe when to use standalone deployment[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:364:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould describe when to use existing stack integration[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:370:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould provide service definition for existing stacks[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:377:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould include configurable context path in service definition[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:382:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould show how to configure shared networking[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:387:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould include volume configuration for existing stacks[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:392:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould show how to integrate with external networks[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:397:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould provide Nginx reverse proxy configuration example[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:403:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould document internal service-to-service communication[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:408:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould explain how to add environment variables to existing .env[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:413:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould provide instructions for copying Dockerfile[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:418:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould provide deployment commands for existing stack[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:425:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould provide verification commands for existing stack[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:431:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould provide log checking for existing stack[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:437:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould provide restart commands for existing stack[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:441:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould provide stop commands for existing stack[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:446:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould warn about port binding considerations[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/deployment-runbook.test.ts[2m:451:5[22m[2m > [22mAPI Service Deployment Runbook[2m > [22mExisting Stack Integration[2m > [22mshould demonstrate environment variable substitution in service definition[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:77:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mPublic Endpoint Detection[2m > [22mshould identify /health as public[32m 6[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:81:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mPublic Endpoint Detection[2m > [22mshould identify /docs as public[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:85:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mPublic Endpoint Detection[2m > [22mshould identify /jobs/types as public[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:89:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mPublic Endpoint Detection[2m > [22mshould not identify /jobs as public[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:93:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mPublic Endpoint Detection[2m > [22mshould not identify /jobs/:id as public[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:99:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mPublic Endpoints - Authentication Bypass[2m > [22mshould bypass authentication for public endpoints[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:113:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mrequireAuth middleware function[2m > [22mshould reject request without Authorization header[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:119:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mrequireAuth middleware function[2m > [22mshould reject request with invalid API key[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:125:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mrequireAuth middleware function[2m > [22mshould reject request with malformed Authorization header[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:131:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mrequireAuth middleware function[2m > [22mshould reject request with short API key[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:137:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mrequireAuth middleware function[2m > [22mshould accept request with valid Bearer token[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:143:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mrequireAuth middleware function[2m > [22mshould accept request with valid Api-Key scheme[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:149:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mrequireAuth middleware function[2m > [22mshould accept request with lowercase bearer scheme[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:155:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mrequireAuth middleware function[2m > [22mshould reject request with Api-Key scheme and invalid key[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:161:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mrequireAuth middleware function[2m > [22mshould reject request with bearer scheme and invalid key[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:169:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mPOST /jobs endpoint - authentication[2m > [22mshould require authentication for job creation[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:179:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mPOST /jobs endpoint - authentication[2m > [22mshould reject job creation with invalid API key[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:185:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mPOST /jobs endpoint - authentication[2m > [22mshould accept job creation with valid API key[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:193:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mGET /jobs/:id endpoint - authentication[2m > [22mshould require authentication for job status requests[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:203:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mGET /jobs/:id endpoint - authentication[2m > [22mshould reject status request with invalid API key[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:209:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mGET /jobs/:id endpoint - authentication[2m > [22mshould accept status request with valid API key[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:215:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mGET /jobs/:id endpoint - authentication[2m > [22mshould return 401 before checking job existence[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:224:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mDELETE /jobs/:id endpoint - authentication[2m > [22mshould require authentication for job cancel requests[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:234:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mDELETE /jobs/:id endpoint - authentication[2m > [22mshould reject cancel request with invalid API key[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:240:7[22m[2m > [22mAuthentication Middleware Integration[2m > [22mProtected Endpoints - Authentication Required[2m > [22mDELETE /jobs/:id endpoint - authentication[2m > [22mshould accept cancel request with valid API key[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:249:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mInactive API Key Handling[2m > [22mshould reject requests with inactive API key[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:264:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mAuthentication Disabled Mode[2m > [22mshould allow requests when no API keys are configured[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:275:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mAuthentication Disabled Mode[2m > [22mshould allow POST /jobs when authentication disabled[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:284:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mAuthentication Disabled Mode[2m > [22mshould allow job status requests when authentication disabled[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:292:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mAuthentication Disabled Mode[2m > [22mshould allow job cancel requests when authentication disabled[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:302:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mMultiple API Keys[2m > [22mshould accept requests with any valid API key[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:325:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mMultiple API Keys[2m > [22mshould reject requests when none of the keys match[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:338:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mError Response Format[2m > [22mshould return standardized auth result structure[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:347:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mError Response Format[2m > [22mshould return consistent error for missing auth header[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:354:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mError Response Format[2m > [22mshould return consistent error for invalid API key[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:361:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mError Response Format[2m > [22mshould return consistent error for malformed header[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:370:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mAuthResult structure validation[2m > [22mshould have required fields for successful auth[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:381:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mAuthResult structure validation[2m > [22mshould have required fields for failed auth[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:399:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mAuthorization header parsing edge cases[2m > [22mshould handle extra whitespace in header[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:404:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mAuthorization header parsing edge cases[2m > [22mshould handle trailing whitespace[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:409:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mAuthorization header parsing edge cases[2m > [22mshould reject header with more than two parts[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:415:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mAuthorization header parsing edge cases[2m > [22mshould reject header with only one part[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/auth-middleware-integration.test.ts[2m:421:5[22m[2m > [22mAuthentication Middleware Integration[2m > [22mAuthorization header parsing edge cases[2m > [22mshould reject unsupported auth scheme[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:136:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mFile Structure[2m > [22mshould have documentation file at expected path[32m 9[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:150:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mFrontmatter Validation[2m > [22mshould have valid frontmatter[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:155:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mFrontmatter Validation[2m > [22mshould have required frontmatter fields[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:166:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mFrontmatter Validation[2m > [22mshould have proper keywords and tags[32m 5[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:182:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mFrontmatter Validation[2m > [22mshould have proper slug[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:196:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mContent Structure[2m > [22mshould have main heading[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:200:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mContent Structure[2m > [22mshould have prerequisites section[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:204:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mContent Structure[2m > [22mshould have quick start section[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:208:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mContent Structure[2m > [22mshould have detailed deployment steps[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:212:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mContent Structure[2m > [22mshould have environment variables reference[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:216:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mContent Structure[2m > [22mshould have container management section[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:220:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mContent Structure[2m > [22mshould have monitoring section[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:224:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mContent Structure[2m > [22mshould have troubleshooting section[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:228:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mContent Structure[2m > [22mshould have security best practices[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:232:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mContent Structure[2m > [22mshould have production checklist[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:244:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mEnvironment Variables Documentation[2m > [22mshould document all required Notion variables[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:250:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mEnvironment Variables Documentation[2m > [22mshould document OpenAI variables[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:255:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mEnvironment Variables Documentation[2m > [22mshould document API configuration variables[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:260:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mEnvironment Variables Documentation[2m > [22mshould document API authentication variables[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:265:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mEnvironment Variables Documentation[2m > [22mshould document Docker configuration variables[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:271:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mEnvironment Variables Documentation[2m > [22mshould document resource limit variables[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:278:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mEnvironment Variables Documentation[2m > [22mshould document health check variables[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:285:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mEnvironment Variables Documentation[2m > [22mshould document logging variables[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:300:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mCode Examples[2m > [22mshould have bash code examples[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:305:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mCode Examples[2m > [22mshould have environment file example[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:312:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mCode Examples[2m > [22mshould have Docker Compose commands[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:319:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mCode Examples[2m > [22mshould have curl example for health check[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:326:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mCode Examples[2m > [22mshould have Nginx configuration example[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:343:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mLinks and References[2m > [22mshould have link to API reference[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:350:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mLinks and References[2m > [22mshould have link to Docker documentation[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:357:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mLinks and References[2m > [22mshould have link to Docker Compose documentation[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:365:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mLinks and References[2m > [22mshould have link to Nginx documentation[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:378:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mDeployment Steps[2m > [22mshould document VPS preparation[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:384:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mDeployment Steps[2m > [22mshould document deployment directory creation[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:389:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mDeployment Steps[2m > [22mshould document firewall configuration[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:394:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mDeployment Steps[2m > [22mshould document reverse proxy setup[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:399:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mDeployment Steps[2m > [22mshould document SSL configuration[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:412:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mTroubleshooting Coverage[2m > [22mshould cover container startup issues[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:418:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mTroubleshooting Coverage[2m > [22mshould cover health check failures[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:423:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mTroubleshooting Coverage[2m > [22mshould cover permission issues[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:429:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mTroubleshooting Coverage[2m > [22mshould cover memory issues[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:443:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mSecurity Coverage[2m > [22mshould mention strong API keys[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:448:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mSecurity Coverage[2m > [22mshould mention authentication[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:453:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mSecurity Coverage[2m > [22mshould mention HTTPS[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:458:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mSecurity Coverage[2m > [22mshould mention firewall[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:462:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mSecurity Coverage[2m > [22mshould mention updates[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:466:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mSecurity Coverage[2m > [22mshould mention monitoring[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:470:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mSecurity Coverage[2m > [22mshould mention backups[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:483:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mProduction Checklist[2m > [22mshould have comprehensive checklist items[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:504:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mContainer Management Commands[2m > [22mshould document start command[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:511:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mContainer Management Commands[2m > [22mshould document stop command[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:518:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mContainer Management Commands[2m > [22mshould document restart command[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:525:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mContainer Management Commands[2m > [22mshould document logs command[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/vps-deployment-docs.test.ts[2m:532:5[22m[2m > [22mVPS Deployment Documentation[2m > [22mContainer Management Commands[2m > [22mshould document update command[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:23:5[22m[2m > [22mResponse Schemas[2m > [22mErrorCode enum[2m > [22mshould have all expected error codes[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:31:5[22m[2m > [22mResponse Schemas[2m > [22mErrorCode enum[2m > [22mshould have consistent error code format (uppercase with underscores)[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:41:5[22m[2m > [22mResponse Schemas[2m > [22mgenerateRequestId[2m > [22mshould generate unique request IDs[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:50:5[22m[2m > [22mResponse Schemas[2m > [22mgenerateRequestId[2m > [22mshould generate IDs starting with 'req_'[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:55:5[22m[2m > [22mResponse Schemas[2m > [22mgenerateRequestId[2m > [22mshould generate IDs with reasonable length[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:63:5[22m[2m > [22mResponse Schemas[2m > [22mcreateErrorResponse[2m > [22mshould create a valid error response with all fields[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:83:5[22m[2m > [22mResponse Schemas[2m > [22mcreateErrorResponse[2m > [22mshould create error response without optional fields[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:101:5[22m[2m > [22mResponse Schemas[2m > [22mcreateErrorResponse[2m > [22mshould not include suggestions if empty array provided[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:115:5[22m[2m > [22mResponse Schemas[2m > [22mcreateErrorResponse[2m > [22mshould include ISO 8601 timestamp[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:131:5[22m[2m > [22mResponse Schemas[2m > [22mcreateApiResponse[2m > [22mshould create a valid API response with data[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:145:5[22m[2m > [22mResponse Schemas[2m > [22mcreateApiResponse[2m > [22mshould create API response with pagination metadata[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:161:5[22m[2m > [22mResponse Schemas[2m > [22mcreateApiResponse[2m > [22mshould include ISO 8601 timestamp[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:172:5[22m[2m > [22mResponse Schemas[2m > [22mcreatePaginationMeta[2m > [22mshould calculate pagination metadata correctly[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:183:5[22m[2m > [22mResponse Schemas[2m > [22mcreatePaginationMeta[2m > [22mshould handle first page correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:191:5[22m[2m > [22mResponse Schemas[2m > [22mcreatePaginationMeta[2m > [22mshould handle last page correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:199:5[22m[2m > [22mResponse Schemas[2m > [22mcreatePaginationMeta[2m > [22mshould handle single page correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:207:5[22m[2m > [22mResponse Schemas[2m > [22mcreatePaginationMeta[2m > [22mshould handle exact page boundary[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:217:5[22m[2m > [22mResponse Schemas[2m > [22mgetErrorCodeForStatus[2m > [22mshould map HTTP status codes to error codes[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:228:5[22m[2m > [22mResponse Schemas[2m > [22mgetErrorCodeForStatus[2m > [22mshould return INTERNAL_ERROR for unknown status codes[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:235:5[22m[2m > [22mResponse Schemas[2m > [22mgetValidationErrorForField[2m > [22mshould return error details for known fields[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:242:5[22m[2m > [22mResponse Schemas[2m > [22mgetValidationErrorForField[2m > [22mshould return error details for options fields[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:249:5[22m[2m > [22mResponse Schemas[2m > [22mgetValidationErrorForField[2m > [22mshould return generic validation error for unknown fields[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:258:5[22m[2m > [22mResponse Schemas[2m > [22mResponse envelope structure[2m > [22mshould have consistent structure for error responses[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:282:5[22m[2m > [22mResponse Schemas[2m > [22mResponse envelope structure[2m > [22mshould have consistent structure for success responses[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:303:5[22m[2m > [22mResponse Schemas[2m > [22mAutomation-friendly design[2m > [22mshould provide machine-readable error codes[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:317:5[22m[2m > [22mResponse Schemas[2m > [22mAutomation-friendly design[2m > [22mshould include request ID for tracing[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/response-schemas.test.ts[2m:332:5[22m[2m > [22mResponse Schemas[2m > [22mAutomation-friendly design[2m > [22mshould provide ISO 8601 timestamps for parsing[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:25:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDeployment Files Existence[2m > [22mshould have Dockerfile[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:29:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDeployment Files Existence[2m > [22mshould have docker-compose.yml[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:33:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDeployment Files Existence[2m > [22mshould have .env.example for configuration reference[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:45:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDockerfile Validation[2m > [22mshould use Bun runtime[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:49:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDockerfile Validation[2m > [22mshould expose API port 3001[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:53:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDockerfile Validation[2m > [22mshould include health check[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:57:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDockerfile Validation[2m > [22mshould run as non-root user[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:62:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDockerfile Validation[2m > [22mshould use multi-stage build[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:66:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDockerfile Validation[2m > [22mshould set production environment[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:70:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDockerfile Validation[2m > [22mshould start API server[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:82:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDocker Compose Configuration[2m > [22mshould define API service[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:86:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDocker Compose Configuration[2m > [22mshould map port correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:90:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDocker Compose Configuration[2m > [22mshould configure health check[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:95:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDocker Compose Configuration[2m > [22mshould include required environment variables[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:101:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDocker Compose Configuration[2m > [22mshould configure resource limits[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:106:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDocker Compose Configuration[2m > [22mshould set restart policy[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:110:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDocker Compose Configuration[2m > [22mshould configure logging with rotation[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:124:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mEnvironment Configuration[2m > [22mshould document Notion API configuration[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:130:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mEnvironment Configuration[2m > [22mshould document OpenAI configuration[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:135:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mEnvironment Configuration[2m > [22mshould document API configuration[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:140:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mEnvironment Configuration[2m > [22mshould document image processing configuration[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:154:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDeployment Documentation[2m > [22mshould have VPS deployment documentation[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:158:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDeployment Documentation[2m > [22mshould document prerequisites[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:163:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDeployment Documentation[2m > [22mshould document quick start steps[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:168:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDeployment Documentation[2m > [22mshould document environment variables[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:173:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDeployment Documentation[2m > [22mshould document troubleshooting[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:178:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDeployment Documentation[2m > [22mshould include production checklist[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:185:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDocker Build Validation[2m > [22mshould have valid Dockerfile syntax[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:197:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDocker Build Validation[2m > [22mshould have valid docker-compose syntax[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:206:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mDocker Build Validation[2m > [22mshould use BuildKit syntax for optimization[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:221:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mSecurity Configuration[2m > [22mshould run as non-root user in Dockerfile[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:226:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mSecurity Configuration[2m > [22mshould use --chown for file permissions[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:230:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mSecurity Configuration[2m > [22mshould install only production dependencies[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:234:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mSecurity Configuration[2m > [22mshould clear package cache after install[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:238:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mSecurity Configuration[2m > [22mshould support API authentication via environment[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:250:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mResource Management[2m > [22mshould set CPU limits[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:254:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mResource Management[2m > [22mshould set memory limits[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:258:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mResource Management[2m > [22mshould configure health check with configurable intervals[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:264:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mResource Management[2m > [22mshould configure log rotation[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:269:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mResource Management[2m > [22mshould define named volume for persistence[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:284:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mConfigurability[2m > [22mshould support configurable Bun version[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:289:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mConfigurability[2m > [22mshould support configurable NODE_ENV[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:294:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mConfigurability[2m > [22mshould support configurable health check parameters[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:300:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mConfigurability[2m > [22mshould support configurable resource limits[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:305:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mConfigurability[2m > [22mshould support configurable Docker image names[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:327:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mProduction Readiness[2m > [22mshould have restart policy configured[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:334:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mProduction Readiness[2m > [22mshould have health check enabled[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:338:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mProduction Readiness[2m > [22mshould document SSL/TLS setup[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:343:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mProduction Readiness[2m > [22mshould document backup procedures[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:348:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mProduction Readiness[2m > [22mshould include production checklist[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/docker-smoke-tests.test.ts[2m:354:5[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mProduction Readiness[2m > [22mshould document monitoring procedures[32m 0[2mms[22m[39m
 [2m[90mâ†“[39m[22m scripts/api-server/docker-smoke-tests.test.ts[2m:362:7[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mRuntime Smoke Tests (Docker Required)[2m > [22mshould be able to build Docker image
 [2m[90mâ†“[39m[22m scripts/api-server/docker-smoke-tests.test.ts[2m:367:7[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mRuntime Smoke Tests (Docker Required)[2m > [22mshould be able to start container with docker-compose
 [2m[90mâ†“[39m[22m scripts/api-server/docker-smoke-tests.test.ts[2m:372:7[22m[2m > [22mDocker Deployment Smoke Tests[2m > [22mRuntime Smoke Tests (Docker Required)[2m > [22mshould respond to health check endpoint
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:111:5[22m[2m > [22mCore Job Logic - parseProgressFromOutput[2m > [22mProgress pattern matching[2m > [22mshould parse 'Progress: N/M' pattern[32m 6[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:122:5[22m[2m > [22mCore Job Logic - parseProgressFromOutput[2m > [22mProgress pattern matching[2m > [22mshould not parse 'Progress: N/M' with different spacing (regex expects specific format)[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:130:5[22m[2m > [22mCore Job Logic - parseProgressFromOutput[2m > [22mProgress pattern matching[2m > [22mshould parse 'Processing N of M' pattern[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:141:5[22m[2m > [22mCore Job Logic - parseProgressFromOutput[2m > [22mProgress pattern matching[2m > [22mshould parse 'N/M pages' pattern[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:154:5[22m[2m > [22mCore Job Logic - parseProgressFromOutput[2m > [22mPattern priority[2m > [22mshould use first matching pattern (Progress:)[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:166:5[22m[2m > [22mCore Job Logic - parseProgressFromOutput[2m > [22mEdge cases[2m > [22mshould not call onProgress when no pattern matches[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:175:5[22m[2m > [22mCore Job Logic - parseProgressFromOutput[2m > [22mEdge cases[2m > [22mshould not call onProgress for malformed patterns[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:181:5[22m[2m > [22mCore Job Logic - parseProgressFromOutput[2m > [22mEdge cases[2m > [22mshould handle output with multiple lines[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:194:5[22m[2m > [22mCore Job Logic - parseProgressFromOutput[2m > [22mEdge cases[2m > [22mshould handle zero values[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:205:5[22m[2m > [22mCore Job Logic - parseProgressFromOutput[2m > [22mEdge cases[2m > [22mshould handle large numbers[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:218:5[22m[2m > [22mCore Job Logic - parseProgressFromOutput[2m > [22mCase insensitivity[2m > [22mshould match 'PROGRESS: N/M' uppercase[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:225:5[22m[2m > [22mCore Job Logic - parseProgressFromOutput[2m > [22mCase insensitivity[2m > [22mshould match 'progress: n/m' lowercase[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:232:5[22m[2m > [22mCore Job Logic - parseProgressFromOutput[2m > [22mCase insensitivity[2m > [22mshould match 'PROCESSING N OF M' uppercase[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:243:5[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mjob type configuration[2m > [22mshould have entries for all job types[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:266:5[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mjob type configuration[2m > [22mshould configure notion:fetch with correct script and args[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:274:5[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mjob type configuration[2m > [22mshould configure notion:translate with correct script and args[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:282:5[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mjob type configuration[2m > [22mshould configure notion:status-* jobs with workflow flags[32m 2[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:314:5[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22mshould return empty array when no options provided[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:320:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22mmaxPages option[2m > [22mshould add --max-pages argument when provided[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:325:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22mmaxPages option[2m > [22mshould convert maxPages to string[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:330:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22mmaxPages option[2m > [22mshould not add --max-pages when undefined[32m 1[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:337:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22mstatusFilter option[2m > [22mshould add --status-filter argument when provided[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:342:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22mstatusFilter option[2m > [22mshould handle statusFilter with spaces[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:347:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22mstatusFilter option[2m > [22mshould not add --status-filter when undefined[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:354:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22mforce option[2m > [22mshould add --force flag when true[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:359:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22mforce option[2m > [22mshould not add --force when false[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:364:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22mforce option[2m > [22mshould not add --force when undefined[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:371:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22mdryRun option[2m > [22mshould add --dry-run flag when true[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:376:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22mdryRun option[2m > [22mshould not add --dry-run when false[32m 4[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:383:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22mincludeRemoved option[2m > [22mshould add --include-removed flag when true[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:388:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22mincludeRemoved option[2m > [22mshould not add --include-removed when false[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:395:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22mcombined options[2m > [22mshould build correct args with multiple options[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:411:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22mcombined options[2m > [22mshould maintain option order consistently[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:430:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22mcombined options[2m > [22mshould build args with all boolean flags true[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:440:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22mcombined options[2m > [22mshould build args with mixed boolean flags[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:453:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22medge cases[2m > [22mshould treat zero maxPages as falsy and not add argument[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:459:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22medge cases[2m > [22mshould handle very large maxPages[32m 0[2mms[22m[39m
 [32mâœ“[39m scripts/api-server/job-executor-core.test.ts[2m:464:7[22m[2m > [22mCore Job Logic - JOB_COMMANDS mapping[2m > [22mnotion:fetch-all buildArgs function[2m > [22medge cases[2m > [22mshould treat empty string statusFilter as falsy and not add argument[32m 0[2mms[22m[39m
[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Unhandled Errors [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
[31m[1m
Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Unhandled Rejection [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
[31m[1mGitHubStatusError[22m: GitHub API error: Service unavailable[39m
[36m [2mâ¯[22m reportGitHubStatus scripts/api-server/github-status.ts:[2m100:21[22m[39m
    [90m 98| [39m        [33m.[39m[34mjson[39m()
    [90m 99| [39m        [33m.[39m[35mcatch[39m(() [33m=>[39m ({ message[33m:[39m response[33m.[39mstatusText }))[33m;[39m
    [90m100| [39m      [35mconst[39m error [33m=[39m [35mnew[39m [33mGitHubStatusError[39m(
    [90m   | [39m                    [31m^[39m
    [90m101| [39m        [32m`GitHub API error: [39m[36m${[39merrorData[33m.[39mmessage[36m}[39m[32m`[39m[33m,[39m
    [90m102| [39m        response[33m.[39mstatus[33m,[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[22m[39m
[31m[1mSerialized Error:[22m[39m [90m{ statusCode: 503, githubError: { message: 'Service unavailable' }, isRetryable: 'Function<isRetryable>' }[39m
[31mThis error originated in "[1mscripts/api-server/github-status.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mshould throw after max retries exceeded[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m
[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m


[2m Test Files [22m [1m[32m31 passed[39m[22m[90m (31)[39m
[2m      Tests [22m [1m[32m1035 passed[39m[22m[2m | [22m[33m3 skipped[39m[90m (1038)[39m
[2m     Errors [22m [1m[31m1 error[39m[22m
[2m   Start at [22m 08:24:39
[2m   Duration [22m 93.31s[2m (transform 1.63s, setup 1.16s, import 5.44s, tests 74.24s, environment 12ms)[22m

JSON report written to /home/luandro/Dev/digidem/comapeo-docs/test-results.json
[1m[7m[35m HTML [39m[27m[22m [35mReport is generated[39m
[2m       You can run [22m[1mnpx vite preview --outDir [22m[2m to see the test results.[22m
error: script "test:api-server" exited with code 1
